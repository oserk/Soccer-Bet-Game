{"version":3,"file":"resource-loader.js","sources":["../node_modules/type-signals/dist/type-signals.esm.js","../src/load_strategies/AbstractLoadStrategy.ts","../src/utilities.ts","../src/resource_type.ts","../src/load_strategies/MediaElementLoadStrategy.ts","../src/load_strategies/AudioLoadStrategy.ts","../src/load_strategies/ImageLoadStrategy.ts","../src/load_strategies/VideoLoadStrategy.ts","../src/load_strategies/XhrLoadStrategy.ts","../node_modules/parse-uri/index.js","../src/async/AsyncQueue.ts","../src/Resource.ts","../src/async/eachSeries.ts","../src/Loader.ts","../src/bundle.ts"],"sourcesContent":["/*!\n * type-signals - v1.0.3\n * https://github.com/englercj/type-signals\n * Compiled Sun, 15 Sep 2019 20:21:49 UTC\n *\n * type-signals is licensed under the MIT license.\n * http://www.opensource.org/licenses/mit-license\n */\nvar SignalBinding = (function () {\r\n    function SignalBinding(fn, once, thisArg) {\r\n        if (once === void 0) { once = false; }\r\n        this.next = null;\r\n        this.prev = null;\r\n        this.owner = null;\r\n        this.fn = fn;\r\n        this.once = once;\r\n        this.thisArg = thisArg;\r\n    }\r\n    SignalBinding.prototype.detach = function () {\r\n        if (this.owner === null)\r\n            return false;\r\n        this.owner.detach(this);\r\n        return true;\r\n    };\r\n    SignalBinding.prototype.dispose = function () {\r\n        this.detach();\r\n    };\r\n    return SignalBinding;\r\n}());\r\nvar Signal = (function () {\r\n    function Signal() {\r\n        this._head = null;\r\n        this._tail = null;\r\n        this._filter = null;\r\n    }\r\n    Signal.prototype.handlers = function () {\r\n        var node = this._head;\r\n        var handlers = [];\r\n        while (node) {\r\n            handlers.push(node);\r\n            node = node.next;\r\n        }\r\n        return handlers;\r\n    };\r\n    Signal.prototype.hasAny = function () {\r\n        return !!this._head;\r\n    };\r\n    Signal.prototype.has = function (node) {\r\n        return node.owner === this;\r\n    };\r\n    Signal.prototype.dispatch = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var node = this._head;\r\n        if (!node)\r\n            return false;\r\n        if (this._filter && !this._filter.apply(this, args))\r\n            return false;\r\n        while (node) {\r\n            if (node.once)\r\n                this.detach(node);\r\n            node.fn.apply(node.thisArg, args);\r\n            node = node.next;\r\n        }\r\n        return true;\r\n    };\r\n    Signal.prototype.add = function (fn, thisArg) {\r\n        if (thisArg === void 0) { thisArg = null; }\r\n        return this._addMiniSignalBinding(new SignalBinding(fn, false, thisArg));\r\n    };\r\n    Signal.prototype.once = function (fn, thisArg) {\r\n        if (thisArg === void 0) { thisArg = null; }\r\n        return this._addMiniSignalBinding(new SignalBinding(fn, true, thisArg));\r\n    };\r\n    Signal.prototype.detach = function (node) {\r\n        if (node.owner !== this)\r\n            return this;\r\n        if (node.prev)\r\n            node.prev.next = node.next;\r\n        if (node.next)\r\n            node.next.prev = node.prev;\r\n        if (node === this._head) {\r\n            this._head = node.next;\r\n            if (node.next === null) {\r\n                this._tail = null;\r\n            }\r\n        }\r\n        else if (node === this._tail) {\r\n            this._tail = node.prev;\r\n            if (this._tail)\r\n                this._tail.next = null;\r\n        }\r\n        node.owner = null;\r\n        return this;\r\n    };\r\n    Signal.prototype.detachAll = function () {\r\n        var node = this._head;\r\n        if (!node)\r\n            return this;\r\n        this._head = null;\r\n        this._tail = null;\r\n        while (node) {\r\n            node.owner = null;\r\n            node = node.next;\r\n        }\r\n        return this;\r\n    };\r\n    Signal.prototype.filter = function (filter) {\r\n        this._filter = filter;\r\n    };\r\n    Signal.prototype.proxy = function () {\r\n        var _this = this;\r\n        var signals = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            signals[_i] = arguments[_i];\r\n        }\r\n        var fn = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return _this.dispatch.apply(_this, args);\r\n        };\r\n        for (var i = 0; i < signals.length; ++i) {\r\n            signals[i].add(fn);\r\n        }\r\n        return this;\r\n    };\r\n    Signal.prototype._addMiniSignalBinding = function (node) {\r\n        if (!this._head) {\r\n            this._head = node;\r\n            this._tail = node;\r\n        }\r\n        else {\r\n            if (this._tail)\r\n                this._tail.next = node;\r\n            node.prev = this._tail;\r\n            this._tail = node;\r\n        }\r\n        node.owner = this;\r\n        return node;\r\n    };\r\n    return Signal;\r\n}());\n\nexport { Signal, SignalBinding };\n//# sourceMappingURL=type-signals.esm.js.map\n","import { Signal } from 'type-signals';\nimport { ResourceType } from '../resource_type';\n\nexport interface ILoadConfig\n{\n    // The url for this resource, relative to the baseUrl of this loader.\n    url: string;\n\n    // A base url to use for just this resource load. This can be passed in\n    // as the base url for a subresource if desired.\n    baseUrl?: string;\n\n    // String to use for crossOrigin properties on load elements.\n    crossOrigin?: string;\n\n    // The time to wait in milliseconds before considering the load a failure.\n    timeout?: number;\n}\n\n/**\n * @category Type Aliases\n */\nexport namespace AbstractLoadStrategy\n{\n    export type OnErrorSignal = (errMessage: string) => void;\n    export type OnCompleteSignal = (type: ResourceType, data: any) => void;\n    export type OnProgressSignal = (percent: number) => void;\n}\n\n/**\n * Base load strategy interface that all custom load strategies\n * are expected to inherit from and implement.\n * @preferred\n */\nexport abstract class AbstractLoadStrategy<C extends ILoadConfig = ILoadConfig>\n{\n    /**\n     * Dispatched when the resource fails to load.\n     */\n    readonly onError: Signal<AbstractLoadStrategy.OnErrorSignal> = new Signal<AbstractLoadStrategy.OnErrorSignal>();\n\n    /**\n     * Dispatched once this resource has loaded, if there was an error it will\n     * be in the `error` property.\n     */\n    readonly onComplete: Signal<AbstractLoadStrategy.OnCompleteSignal> = new Signal<AbstractLoadStrategy.OnCompleteSignal>();\n\n    /**\n     * Dispatched each time progress of this resource load updates.\n     * Not all resources types and loader systems can support this event\n     * so sometimes it may not be available. If the resource\n     * is being loaded on a modern browser, using XHR, and the remote server\n     * properly sets Content-Length headers, then this will be available.\n     */\n    readonly onProgress: Signal<AbstractLoadStrategy.OnProgressSignal> = new Signal<AbstractLoadStrategy.OnProgressSignal>();\n\n    constructor(readonly config: C)\n    { }\n\n    /**\n     * Load the resource described by `config`.\n     */\n    abstract load(): void;\n\n    /**\n     * Abort the loading of the resource.\n     */\n    abstract abort(): void;\n}\n\nexport type AbstractLoadStrategyCtor<C extends ILoadConfig = ILoadConfig> =\n    new (config: C) => AbstractLoadStrategy<C>;\n","export type Overwrite<T1, T2> = {\n    [P in Exclude<keyof T1, keyof T2>]: T1[P]\n} & T2;\n\n/**\n * Extracts the extension (sans '.') of the file being loaded by the resource.\n */\nexport function getExtension(url: string)\n{\n    const isDataUrl = url.indexOf('data:') === 0;\n    let ext = '';\n\n    if (isDataUrl)\n    {\n        const slashIndex = url.indexOf('/');\n\n        ext = url.substring(slashIndex + 1, url.indexOf(';', slashIndex));\n    }\n    else\n    {\n        const queryStart = url.indexOf('?');\n        const hashStart = url.indexOf('#');\n        const index = Math.min(\n            queryStart > -1 ? queryStart : url.length,\n            hashStart > -1 ? hashStart : url.length\n        );\n\n        url = url.substring(0, index);\n        ext = url.substring(url.lastIndexOf('.') + 1);\n    }\n\n    return ext.toLowerCase();\n}\n\nexport function assertNever(x: never): never\n{\n    throw new Error('Unexpected value. Should have been never.');\n}\n","/**\n * Describes the type of data the Resource holds.\n */\nexport enum ResourceType\n{\n    /** The resource data type is unknown. */\n    Unknown,\n    /** The resource data is an ArrayBuffer. */\n    Buffer,\n    /** The resource data is a Blob. */\n    Blob,\n    /** The resource data is a parsed JSON Object. */\n    Json,\n    /** The resource data is a Document or <div/> element representing parsed XML. */\n    Xml,\n    /** The resource data is an <img/> element. */\n    Image,\n    /** The resource data is an <audio/> element. */\n    Audio,\n    /** The resource data is an <video/> element. */\n    Video,\n    /** The resource data is a string. */\n    Text,\n}\n\nexport enum ResourceState\n{\n    NotStarted,\n    Loading,\n    Complete,\n}\n","import { AbstractLoadStrategy, ILoadConfig } from './AbstractLoadStrategy';\nimport { getExtension, assertNever } from '../utilities';\nimport { ResourceType } from '../resource_type';\n\nexport interface IMediaElementLoadConfig extends ILoadConfig\n{\n    sourceSet?: string[];\n    mimeTypes?: string[];\n    loadElement?: HTMLMediaElement;\n}\n\nexport abstract class MediaElementLoadStrategy extends AbstractLoadStrategy<IMediaElementLoadConfig>\n{\n    private _boundOnLoad = this._onLoad.bind(this);\n    private _boundOnError = this._onError.bind(this);\n    private _boundOnTimeout = this._onTimeout.bind(this);\n\n    private _element = this._createElement();\n    private _elementTimer = 0;\n\n    constructor(config: IMediaElementLoadConfig, readonly elementType: ('audio' | 'video'))\n    {\n        super(config);\n    }\n\n    load(): void\n    {\n        const config = this.config;\n\n        if (config.crossOrigin)\n            this._element.crossOrigin = config.crossOrigin;\n\n        const urls = config.sourceSet || [config.url];\n\n        // support for CocoonJS Canvas+ runtime, lacks document.createElement('source')\n        if ((navigator as any).isCocoonJS)\n        {\n            this._element.src = urls[0];\n        }\n        else\n        {\n            for (let i = 0; i < urls.length; ++i)\n            {\n                const url = urls[i];\n                let mimeType = config.mimeTypes ? config.mimeTypes[i] : undefined;\n\n                if (!mimeType)\n                    mimeType = `${this.elementType}/${getExtension(url)}`;\n\n                const source = document.createElement('source');\n\n                source.src = url;\n                source.type = mimeType;\n\n                this._element.appendChild(source);\n            }\n        }\n\n        this._element.addEventListener('load', this._boundOnLoad, false);\n        this._element.addEventListener('canplaythrough', this._boundOnLoad, false);\n        this._element.addEventListener('error', this._boundOnError, false);\n\n        this._element.load();\n\n        if (config.timeout)\n            this._elementTimer = window.setTimeout(this._boundOnTimeout, config.timeout);\n    }\n\n    abort(): void\n    {\n        this._clearEvents();\n        while (this._element.firstChild)\n        {\n            this._element.removeChild(this._element.firstChild);\n        }\n        this._error(`${this.elementType} load aborted by the user.`);\n    }\n\n    private _createElement(): HTMLMediaElement\n    {\n        if (this.config.loadElement)\n            return this.config.loadElement;\n        else\n            return document.createElement(this.elementType);\n    }\n\n    private _clearEvents(): void\n    {\n        clearTimeout(this._elementTimer);\n\n        this._element.removeEventListener('load', this._boundOnLoad, false);\n        this._element.removeEventListener('canplaythrough', this._boundOnLoad, false);\n        this._element.removeEventListener('error', this._boundOnError, false);\n    }\n\n    private _error(errMessage: string): void\n    {\n        this._clearEvents();\n        this.onError.dispatch(errMessage);\n    }\n\n    private _complete(): void\n    {\n        this._clearEvents();\n\n        let resourceType = ResourceType.Unknown;\n\n        switch (this.elementType)\n        {\n            case 'audio': resourceType = ResourceType.Audio; break;\n            case 'video': resourceType = ResourceType.Video; break;\n            default: assertNever(this.elementType);\n        }\n\n        this.onComplete.dispatch(resourceType, this._element);\n    }\n\n    private _onLoad(): void\n    {\n        this._complete();\n    }\n\n    private _onError(): void\n    {\n        this._error(`${this.elementType} failed to load.`);\n    }\n\n    private _onTimeout(): void\n    {\n        this._error(`${this.elementType} load timed out.`);\n    }\n}\n","import { MediaElementLoadStrategy, IMediaElementLoadConfig } from './MediaElementLoadStrategy';\n\nexport class AudioLoadStrategy extends MediaElementLoadStrategy\n{\n    constructor(config: IMediaElementLoadConfig)\n    {\n        super(config, 'audio');\n    }\n}\n","import { AbstractLoadStrategy, ILoadConfig } from './AbstractLoadStrategy';\nimport { ResourceType } from '../resource_type';\n\n// We can't set the `src` attribute to empty string, so on abort we set it to this 1px transparent gif\nconst EMPTY_GIF = 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==';\n\nexport interface IImageLoadConfig extends ILoadConfig\n{\n    loadElement?: HTMLImageElement;\n}\n\nexport class ImageLoadStrategy extends AbstractLoadStrategy<IImageLoadConfig>\n{\n    private _boundOnLoad = this._onLoad.bind(this);\n    private _boundOnError = this._onError.bind(this);\n    private _boundOnTimeout = this._onTimeout.bind(this);\n\n    private _element = this._createElement();\n    private _elementTimer = 0;\n\n    load(): void\n    {\n        const config = this.config;\n\n        if (config.crossOrigin)\n            this._element.crossOrigin = config.crossOrigin;\n\n        this._element.src = config.url;\n\n        this._element.addEventListener('load', this._boundOnLoad, false);\n        this._element.addEventListener('error', this._boundOnError, false);\n\n        if (config.timeout)\n            this._elementTimer = window.setTimeout(this._boundOnTimeout, config.timeout);\n    }\n\n    abort(): void\n    {\n        this._clearEvents();\n        this._element.src = EMPTY_GIF;\n        this._error('Image load aborted by the user.');\n    }\n\n    private _createElement(): HTMLImageElement\n    {\n        if (this.config.loadElement)\n            return this.config.loadElement;\n        else\n            return document.createElement('img')\n    }\n\n    private _clearEvents(): void\n    {\n        clearTimeout(this._elementTimer);\n\n        this._element.removeEventListener('load', this._boundOnLoad, false);\n        this._element.removeEventListener('error', this._boundOnError, false);\n    }\n\n    private _error(errMessage: string): void\n    {\n        this._clearEvents();\n        this.onError.dispatch(errMessage);\n    }\n\n    private _complete(): void\n    {\n        this._clearEvents();\n        this.onComplete.dispatch(ResourceType.Image, this._element);\n    }\n\n    private _onLoad(): void\n    {\n        this._complete();\n    }\n\n    private _onError(): void\n    {\n        this._error('Image failed to load.');\n    }\n\n    private _onTimeout(): void\n    {\n        this._error('Image load timed out.');\n    }\n}\n","import { MediaElementLoadStrategy, IMediaElementLoadConfig } from './MediaElementLoadStrategy';\n\nexport class VideoLoadStrategy extends MediaElementLoadStrategy\n{\n    constructor(config: IMediaElementLoadConfig)\n    {\n        super(config, 'video');\n    }\n}\n","import { AbstractLoadStrategy, ILoadConfig } from './AbstractLoadStrategy';\nimport { getExtension, assertNever } from '../utilities';\nimport { ResourceType } from '../resource_type';\n\n// tests if CORS is supported in XHR, if not we need to use XDR\n// Mainly this is for IE9 support.\nconst useXdr = !!((window as any).XDomainRequest && !('withCredentials' in (new XMLHttpRequest())));\n\nconst enum HttpStatus\n{\n    None = 0,\n    Ok = 200,\n    Empty = 204,\n    IeEmptyBug = 1223,\n}\n\n/**\n * The XHR response types.\n */\nexport enum XhrResponseType\n{\n    /** string */\n    Default     = 'text',\n    /** ArrayBuffer */\n    Buffer      = 'arraybuffer',\n    /** Blob */\n    Blob        = 'blob',\n    /** Document */\n    Document    = 'document',\n    /** Object */\n    Json        = 'json',\n    /** String */\n    Text        = 'text',\n};\n\nexport interface IXhrLoadConfig extends ILoadConfig\n{\n    xhrType?: XhrResponseType;\n}\n\n/**\n * Quick helper to get string xhr type.\n */\nfunction reqType(xhr: XMLHttpRequest): string\n{\n    return xhr.toString().replace('object ', '');\n}\n\nexport class XhrLoadStrategy extends AbstractLoadStrategy<IXhrLoadConfig>\n{\n    static readonly ResponseType = XhrResponseType;\n\n    private _boundOnLoad = this._onLoad.bind(this);\n    private _boundOnAbort = this._onAbort.bind(this);\n    private _boundOnError = this._onError.bind(this);\n    private _boundOnTimeout = this._onTimeout.bind(this);\n    private _boundOnProgress = this._onProgress.bind(this);\n\n    private _xhr = this._createRequest();\n    private _xhrType = XhrResponseType.Default;\n\n    load(): void\n    {\n        const config = this.config;\n        const ext = getExtension(config.url);\n\n        if (typeof config.xhrType !== 'string')\n        {\n            config.xhrType = this._determineXhrType(ext);\n        }\n\n        const xhr = this._xhr;\n\n        this._xhrType = config.xhrType || XhrResponseType.Default;\n\n        // XDomainRequest has a few quirks. Occasionally it will abort requests\n        // A way to avoid this is to make sure ALL callbacks are set even if not used\n        // More info here: http://stackoverflow.com/questions/15786966/xdomainrequest-aborts-post-on-ie-9\n\n        if (useXdr)\n        {\n            // XDR needs a timeout value or it breaks in IE9\n            xhr.timeout = config.timeout || 5000;\n\n            xhr.onload = this._boundOnLoad;\n            xhr.onerror = this._boundOnError;\n            xhr.ontimeout = this._boundOnTimeout;\n            xhr.onprogress = this._boundOnProgress;\n\n            xhr.open('GET', config.url, true);\n\n            // Note: The xdr.send() call is wrapped in a timeout to prevent an issue with\n            // the interface where some requests are lost if multiple XDomainRequests are\n            // being sent at the same time.\n            setTimeout(function () { xhr.send(); }, 0);\n        }\n        else\n        {\n            xhr.open('GET', config.url, true);\n\n            if (config.timeout)\n                xhr.timeout = config.timeout;\n\n            // load json as text and parse it ourselves. We do this because some browsers\n            // *cough* safari *cough* can't deal with it.\n            if (config.xhrType === XhrResponseType.Json || config.xhrType === XhrResponseType.Document)\n                xhr.responseType = XhrResponseType.Text;\n            else\n                xhr.responseType = config.xhrType;\n\n            xhr.addEventListener('load', this._boundOnLoad, false);\n            xhr.addEventListener('abort', this._boundOnAbort, false);\n            xhr.addEventListener('error', this._boundOnError, false);\n            xhr.addEventListener('timeout', this._boundOnTimeout, false);\n            xhr.addEventListener('progress', this._boundOnProgress, false);\n\n            xhr.send();\n        }\n    }\n\n    abort(): void\n    {\n        if (useXdr)\n        {\n            this._clearEvents();\n            this._xhr.abort();\n            this._onAbort();\n        }\n        else\n        {\n            // will call the abort event\n            this._xhr.abort();\n        }\n    }\n\n    private _createRequest(): XMLHttpRequest\n    {\n        if (useXdr)\n            return new (window as any).XDomainRequest();\n        else\n            return new XMLHttpRequest();\n    }\n\n    private _determineXhrType(ext: string): XhrResponseType\n    {\n        return XhrLoadStrategy._xhrTypeMap[ext] || XhrResponseType.Default;\n    }\n\n    private _clearEvents(): void\n    {\n        if (useXdr)\n        {\n            this._xhr.onload = null;\n            this._xhr.onerror = null;\n            this._xhr.ontimeout = null;\n            this._xhr.onprogress = null;\n        }\n        else\n        {\n            this._xhr.removeEventListener('load', this._boundOnLoad, false);\n            this._xhr.removeEventListener('abort', this._boundOnAbort, false);\n            this._xhr.removeEventListener('error', this._boundOnError, false);\n            this._xhr.removeEventListener('timeout', this._boundOnTimeout, false);\n            this._xhr.removeEventListener('progress', this._boundOnProgress, false);\n        }\n    }\n\n    private _error(errMessage: string): void\n    {\n        this._clearEvents();\n        this.onError.dispatch(errMessage);\n    }\n\n    private _complete(type: ResourceType, data: any): void\n    {\n        this._clearEvents();\n        this.onComplete.dispatch(type, data);\n    }\n\n    private _onLoad(): void\n    {\n        const xhr = this._xhr;\n        let text = '';\n\n        // XDR has no `.status`, assume 200.\n        let status = typeof xhr.status === 'undefined' ? HttpStatus.Ok : xhr.status;\n\n        // responseText is accessible only if responseType is '' or 'text' and on older browsers\n        if (typeof xhr.responseType === 'undefined' || xhr.responseType === '' || xhr.responseType === 'text')\n        {\n            text = xhr.responseText;\n        }\n\n        // status can be 0 when using the `file://` protocol so we also check if a response is set.\n        // If it has a response, we assume 200; otherwise a 0 status code with no contents is an aborted request.\n        if (status === HttpStatus.None && (text.length > 0 || xhr.responseType === XhrResponseType.Buffer))\n        {\n            status = HttpStatus.Ok;\n        }\n        // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n        else if (status === HttpStatus.IeEmptyBug)\n        {\n            status = HttpStatus.Empty;\n        }\n\n        const flattenedStatus = Math.floor(status / 100) * 100;\n\n        if (flattenedStatus !== HttpStatus.Ok)\n        {\n            this._error(`[${xhr.status}] ${xhr.statusText}: ${xhr.responseURL}`);\n            return;\n        }\n\n        switch (this._xhrType)\n        {\n            case XhrResponseType.Buffer:\n                this._complete(ResourceType.Buffer, xhr.response);\n                break;\n\n            case XhrResponseType.Blob:\n                this._complete(ResourceType.Blob, xhr.response);\n                break;\n\n            case XhrResponseType.Document:\n                this._parseDocument(text);\n                break;\n\n            case XhrResponseType.Json:\n                this._parseJson(text);\n                break;\n\n            case XhrResponseType.Default:\n            case XhrResponseType.Text:\n                this._complete(ResourceType.Text, text);\n                break;\n\n            default:\n                assertNever(this._xhrType);\n        }\n    }\n\n    private _parseDocument(text: string): void\n    {\n        try\n        {\n            if (window.DOMParser)\n            {\n                const parser = new DOMParser();\n                const data = parser.parseFromString(text, 'text/xml');\n                this._complete(ResourceType.Xml, data);\n            }\n            else\n            {\n                const div = document.createElement('div');\n                div.innerHTML = text;\n                this._complete(ResourceType.Xml, div);\n            }\n        }\n        catch (e)\n        {\n            this._error(`Error trying to parse loaded xml: ${e}`);\n        }\n    }\n\n    private _parseJson(text: string): void\n    {\n        try\n        {\n            const data = JSON.parse(text);\n            this._complete(ResourceType.Json, data);\n        }\n        catch (e)\n        {\n            this._error(`Error trying to parse loaded json: ${e}`);\n        }\n    }\n\n    private _onAbort(): void\n    {\n        const xhr = this._xhr;\n        this._error(`${reqType(xhr)} Request was aborted by the user.`);\n    }\n\n    private _onError(): void\n    {\n        const xhr = this._xhr;\n        this._error(`${reqType(xhr)} Request failed. Status: ${xhr.status}, text: \"${xhr.statusText}\"`);\n    }\n\n    private _onTimeout(): void\n    {\n        const xhr = this._xhr;\n        this._error(`${reqType(xhr)} Request timed out.`);\n    }\n\n    private _onProgress(event: ProgressEvent): void\n    {\n        if (event && event.lengthComputable)\n        {\n            this.onProgress.dispatch(event.loaded / event.total);\n        }\n    }\n\n    /**\n     * Sets the load type to be used for a specific extension.\n     *\n     * @param extname The extension to set the type for, e.g. \"png\" or \"fnt\"\n     * @param xhrType The xhr type to set it to.\n     */\n    static setExtensionXhrType(extname: string, xhrType: XhrResponseType)\n    {\n        if (extname && extname.indexOf('.') === 0)\n            extname = extname.substring(1);\n\n        if (!extname)\n            return;\n\n        XhrLoadStrategy._xhrTypeMap[extname] = xhrType;\n    }\n\n    private static _xhrTypeMap: Partial<Record<string, XhrResponseType>> = {\n        // xml\n        xhtml:      XhrResponseType.Document,\n        html:       XhrResponseType.Document,\n        htm:        XhrResponseType.Document,\n        xml:        XhrResponseType.Document,\n        tmx:        XhrResponseType.Document,\n        svg:        XhrResponseType.Document,\n\n        // This was added to handle Tiled Tileset XML, but .tsx is also a TypeScript React Component.\n        // Since it is way less likely for people to be loading TypeScript files instead of Tiled files,\n        // this should probably be fine.\n        tsx:        XhrResponseType.Document,\n\n        // images\n        gif:        XhrResponseType.Blob,\n        png:        XhrResponseType.Blob,\n        bmp:        XhrResponseType.Blob,\n        jpg:        XhrResponseType.Blob,\n        jpeg:       XhrResponseType.Blob,\n        tif:        XhrResponseType.Blob,\n        tiff:       XhrResponseType.Blob,\n        webp:       XhrResponseType.Blob,\n        tga:        XhrResponseType.Blob,\n\n        // json\n        json:       XhrResponseType.Json,\n\n        // text\n        text:       XhrResponseType.Text,\n        txt:        XhrResponseType.Text,\n\n        // fonts\n        ttf:        XhrResponseType.Buffer,\n        otf:        XhrResponseType.Buffer,\n    };\n}\n","'use strict'\n\nmodule.exports = function parseURI (str, opts) {\n  opts = opts || {}\n\n  var o = {\n    key: ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'],\n    q: {\n      name: 'queryKey',\n      parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n    },\n    parser: {\n      strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n      loose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n    }\n  }\n\n  var m = o.parser[opts.strictMode ? 'strict' : 'loose'].exec(str)\n  var uri = {}\n  var i = 14\n\n  while (i--) uri[o.key[i]] = m[i] || ''\n\n  uri[o.q.name] = {}\n  uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n    if ($1) uri[o.q.name][$1] = $2\n  })\n\n  return uri\n}\n","import { Signal } from 'type-signals';\n\n/**\n * Ensures a function is only called once.\n *\n * @ignore\n * @typeparam R Return type of the function to wrap.\n * @param func The function to wrap.\n * @return The wrapping function.\n */\nfunction onlyOnce<R>(func: (...args: any[]) => R): (...args: any[]) => R\n{\n    let fn: typeof func | null = func;\n\n    return function onceWrapper(this: any, ...args: any[])\n    {\n        if (fn === null)\n            throw new Error('Callback was already called.');\n\n        const callFn = fn;\n        fn = null;\n        return callFn.apply(this, args);\n    };\n}\n\nexport type INext = (err?: Error) => void;\nexport type IWorker<T> = (item: T, next: INext) => void;\nexport type IItemCallback = (...args: any[]) => void;\n\nexport type OnDoneSignal = () => void;\nexport type OnSaturatedSignal = () => void;\nexport type OnUnsaturatedSignal = () => void;\nexport type OnEmptySignal = () => void;\nexport type OnDrainSignal = () => void;\nexport type OnErrorSignal<T> = (err: Error, data: T) => void;\n\ninterface ITask<T>\n{\n    data: T;\n    callback?: IItemCallback;\n}\n\n/**\n * Async queue.\n *\n * @typeparam T Element type of the queue.\n * @param worker The worker function to call for each task.\n * @param concurrency How many workers to run in parrallel. Must be greater than 0.\n * @return The async queue object.\n */\nexport class AsyncQueue<T>\n{\n    private workers = 0;\n    private buffer = 0;\n    private paused = false;\n\n    private _started = false;\n    private _tasks: ITask<T>[] = [];\n\n    readonly onSaturated: Signal<OnSaturatedSignal> = new Signal<OnSaturatedSignal>();\n    readonly onUnsaturated: Signal<OnUnsaturatedSignal> = new Signal<OnUnsaturatedSignal>();\n    readonly onEmpty: Signal<OnEmptySignal> = new Signal<OnEmptySignal>();\n    readonly onDrain: Signal<OnDrainSignal> = new Signal<OnDrainSignal>();\n    readonly onError: Signal<OnErrorSignal<T>> = new Signal<OnErrorSignal<T>>();\n\n    constructor(readonly worker: IWorker<T>, public concurrency = 1)\n    {\n        if (concurrency === 0)\n            throw new Error('Concurrency must not be zero');\n\n        this.buffer = concurrency / 4;\n    }\n\n    get started() { return this._started; }\n\n    reset()\n    {\n        this.onDrain.detachAll();\n        this.workers = 0;\n        this._started = false;\n        this._tasks = [];\n    }\n\n    push(data: T, callback?: IItemCallback)\n    {\n        this._insert(data, false, callback);\n    }\n\n    unshift(data: T, callback?: IItemCallback)\n    {\n        this._insert(data, true, callback);\n    }\n\n    process()\n    {\n        while (!this.paused && this.workers < this.concurrency && this._tasks.length)\n        {\n            const task = this._tasks.shift()!;\n\n            if (this._tasks.length === 0)\n                this.onEmpty.dispatch();\n\n            this.workers += 1;\n\n            if (this.workers === this.concurrency)\n                this.onSaturated.dispatch();\n\n            this.worker(task.data, onlyOnce(this._next(task)));\n        }\n    }\n\n    length()\n    {\n        return this._tasks.length;\n    }\n\n    running()\n    {\n        return this.workers;\n    }\n\n    idle()\n    {\n        return this._tasks.length + this.workers === 0;\n    }\n\n    pause()\n    {\n        if (this.paused === true)\n            return;\n\n        this.paused = true;\n    }\n\n    resume()\n    {\n        if (this.paused === false)\n            return;\n\n        this.paused = false;\n\n        // Need to call this.process once per concurrent\n        // worker to preserve full concurrency after pause\n        for (let w = 1; w <= this.concurrency; w++)\n        {\n            this.process();\n        }\n    }\n\n    getTask(index: number): ITask<T>\n    {\n        return this._tasks[index];\n    }\n\n    private _insert(data: T, insertAtFront: boolean, callback?: IItemCallback)\n    {\n        if (callback != null && typeof callback !== 'function')\n        {\n            throw new Error('task callback must be a function');\n        }\n\n        this._started = true;\n\n        if (data == null && this.idle())\n        {\n            // call drain immediately if there are no tasks\n            setTimeout(() => this.onDrain.dispatch(), 1);\n            return;\n        }\n\n        const task: ITask<T> = { data, callback };\n\n        if (insertAtFront)\n            this._tasks.unshift(task);\n        else\n            this._tasks.push(task);\n\n        setTimeout(() => this.process(), 1);\n    }\n\n    private _next(task: ITask<T>)\n    {\n        return (err?: Error, ...args: any[]) =>\n        {\n            this.workers -= 1;\n\n            if (task.callback)\n                task.callback(err, ...args);\n\n            if (err)\n                this.onError.dispatch(err, task.data);\n\n            if (this.workers <= (this.concurrency - this.buffer))\n                this.onUnsaturated.dispatch();\n\n            if (this.idle())\n                this.onDrain.dispatch();\n\n            this.process();\n        };\n    }\n}\n","import parseUri from 'parse-uri';\nimport { Signal, SignalBinding } from 'type-signals';\nimport { AbstractLoadStrategy, ILoadConfig, AbstractLoadStrategyCtor } from './load_strategies/AbstractLoadStrategy';\nimport { ImageLoadStrategy } from './load_strategies/ImageLoadStrategy';\nimport { AudioLoadStrategy } from './load_strategies/AudioLoadStrategy';\nimport { VideoLoadStrategy } from './load_strategies/VideoLoadStrategy';\nimport { XhrLoadStrategy } from './load_strategies/XhrLoadStrategy';\nimport { ResourceType, ResourceState } from './resource_type';\nimport { getExtension } from './utilities';\n\nexport interface IResourceOptions extends ILoadConfig\n{\n    // OVerride the load strategy to use for this one resource.\n    strategy?: AbstractLoadStrategy | AbstractLoadStrategyCtor;\n\n    // Extra info added by the user, usually for middleware.\n    metadata?: any;\n}\n\n/**\n * @category Type Aliases\n */\nexport namespace Resource\n{\n    export type OnStartSignal = (resource: Resource) => void;\n    export type OnErrorSignal = (resource: Resource) => void;\n    export type OnCompleteSignal = (resource: Resource) => void;\n    export type OnProgressSignal = (resource: Resource, percent: number) => void;\n}\n\n/**\n * Manages the state and loading of a resource and all child resources.\n * @preferred\n */\nexport class Resource\n{\n    private static _tempAnchor: HTMLAnchorElement | null = null;\n\n    private static _defaultLoadStrategy: AbstractLoadStrategyCtor = XhrLoadStrategy;\n    private static _loadStrategyMap: Partial<Record<string, AbstractLoadStrategyCtor>> = {\n        // images\n        gif:        ImageLoadStrategy,\n        png:        ImageLoadStrategy,\n        bmp:        ImageLoadStrategy,\n        jpg:        ImageLoadStrategy,\n        jpeg:       ImageLoadStrategy,\n        tif:        ImageLoadStrategy,\n        tiff:       ImageLoadStrategy,\n        webp:       ImageLoadStrategy,\n        tga:        ImageLoadStrategy,\n        svg:        ImageLoadStrategy,\n        'svg+xml':  ImageLoadStrategy, // for SVG data urls\n\n        // audio\n        mp3:        AudioLoadStrategy,\n        ogg:        AudioLoadStrategy,\n        wav:        AudioLoadStrategy,\n\n        // videos\n        mp4:        VideoLoadStrategy,\n        webm:       VideoLoadStrategy,\n        mov:        VideoLoadStrategy,\n    };\n\n    /**\n     * Sets the default load stragety to use when there is no extension-specific strategy.\n     */\n    static setDefaultLoadStrategy(strategy: AbstractLoadStrategyCtor): void\n    {\n        Resource._defaultLoadStrategy = strategy;\n    }\n\n    /**\n     * Sets the load strategy to be used for a specific extension.\n     *\n     * @param extname The extension to set the type for, e.g. \"png\" or \"fnt\"\n     * @param strategy The load strategy to use for loading resources with that extension.\n     */\n    static setLoadStrategy(extname: string, strategy: AbstractLoadStrategyCtor): void\n    {\n        if (extname && extname.indexOf('.') === 0)\n            extname = extname.substring(1);\n\n        if (!extname)\n            return;\n\n        Resource._loadStrategyMap[extname] = strategy;\n    }\n\n    /**\n     * The name of this resource.\n     */\n    readonly name: string;\n\n    /**\n     * The child resources of this resource.\n     */\n    readonly children: Resource[] = [];\n\n    /**\n     * Dispatched when the resource beings to load.\n     */\n    readonly onStart: Signal<Resource.OnStartSignal> = new Signal<Resource.OnStartSignal>();\n\n    /**\n     * Dispatched each time progress of this resource load updates.\n     * Not all resources types and loader systems can support this event\n     * so sometimes it may not be available. If the resource\n     * is being loaded on a modern browser, using XHR, and the remote server\n     * properly sets Content-Length headers, then this will be available.\n     */\n    readonly onProgress: Signal<Resource.OnProgressSignal> = new Signal<Resource.OnProgressSignal>();\n\n    /**\n     * Dispatched once this resource has loaded, if there was an error it will\n     * be in the `error` property.\n     */\n    readonly onComplete: Signal<Resource.OnCompleteSignal> = new Signal<Resource.OnCompleteSignal>();\n\n    /**\n     * Dispatched after this resource has had all the *after* middleware run on it.\n     */\n    readonly onAfterMiddleware: Signal<Resource.OnCompleteSignal> = new Signal<Resource.OnCompleteSignal>();\n\n    /**\n     * The data that was loaded by the resource. The type of this member is\n     * described by the `type` member.\n     */\n    data: any = null;\n\n    /**\n     * Extra info added by the user, usually for middleware.\n     */\n    metadata: any;\n\n    /**\n     * Describes the type of the `data` member for this resource.\n     *\n     * @see ResourceType\n     */\n    type = ResourceType.Unknown;\n\n    /**\n     * The error that occurred while loading (if any).\n     */\n    error = '';\n\n    /**\n     * The progress chunk owned by this resource.\n     */\n    progressChunk = 0;\n\n    /**\n     * Storage for use privately by the Loader.\n     * Do not touch this member.\n     *\n     * @ignore\n     */\n    _dequeue: Function = function () {};\n\n    /**\n     * Storage for use privately by the Loader.\n     * Do not touch this member.\n     *\n     * @ignore\n     */\n    _onCompleteBinding: SignalBinding<Resource.OnCompleteSignal> | null = null;\n\n    private _strategy: AbstractLoadStrategy;\n    private _state = ResourceState.NotStarted;\n\n    /**\n     * @param name The name of the resource to load.\n     * @param options The options for the load strategy that will be used.\n     */\n    constructor(name: string, options: IResourceOptions)\n    {\n        this.name = name;\n        this.metadata = options.metadata;\n\n        if (typeof options.crossOrigin !== 'string')\n            options.crossOrigin = this._determineCrossOrigin(options.url);\n\n        if (options.strategy && typeof options.strategy !== 'function')\n        {\n            this._strategy = options.strategy;\n\n            // Only `Resource` is allowed to set the config object,\n            // it is otherwise readonly.\n            (this._strategy as any).config = options;\n        }\n        else\n        {\n            let StrategyCtor = options.strategy;\n\n            if (!StrategyCtor)\n                StrategyCtor = Resource._loadStrategyMap[getExtension(options.url)];\n\n            if (!StrategyCtor)\n                StrategyCtor = Resource._defaultLoadStrategy;\n\n            this._strategy = new StrategyCtor(options);\n        }\n\n        this._strategy.onError.add(this._error, this);\n        this._strategy.onComplete.add(this._complete, this);\n        this._strategy.onProgress.add(this._progress, this);\n    }\n\n    get strategy(): AbstractLoadStrategy { return this._strategy; }\n    get url(): string { return this._strategy.config.url; }\n    get isLoading(): boolean { return this._state === ResourceState.Loading; }\n    get isComplete(): boolean { return this._state === ResourceState.Complete; }\n\n    /**\n     * Aborts the loading of the resource.\n     */\n    abort(): void\n    {\n        this._strategy.abort();\n    }\n\n    /**\n     * Kicks off loading of this resource.\n     */\n    load(): void\n    {\n        this._state = ResourceState.Loading;\n        this.onStart.dispatch(this);\n        this._strategy.load();\n    }\n\n    private _error(errMessage: string): void\n    {\n        this._state = ResourceState.Complete;\n        this.error = errMessage;\n        this.onComplete.dispatch(this);\n    }\n\n    private _complete(type: ResourceType, data: any): void\n    {\n        this._state = ResourceState.Complete;\n        this.type = type;\n        this.data = data;\n        this.onComplete.dispatch(this);\n    }\n\n    private _progress(percent: number): void\n    {\n        this.onProgress.dispatch(this, percent);\n    }\n\n    /**\n     * Determines if a URL is crossOrigin, and if so returns the crossOrigin string.\n     */\n    private _determineCrossOrigin(url: string, loc = window.location): string\n    {\n        // data: and javascript: urls are considered same-origin\n        if (url.indexOf('data:') === 0 || url.indexOf('javascript:') === 0)\n            return '';\n\n        // A sandboxed iframe without the 'allow-same-origin' attribute will have a special\n        // origin designed not to match window.location.origin, and will always require\n        // crossOrigin requests regardless of whether the location matches.\n        if (window.origin !== window.location.origin)\n            return 'anonymous';\n\n        if (!Resource._tempAnchor)\n            Resource._tempAnchor = document.createElement('a');\n\n        // Let the browser determine the full href for the url and then parse with the\n        // url lib. We can't use the properties of the anchor element because they\n        // don't work in IE9 :(\n        Resource._tempAnchor.href = url;\n\n        const parsed = parseUri(Resource._tempAnchor.href, { strictMode: true });\n\n        const samePort = (!parsed.port && loc.port === '') || (parsed.port === loc.port);\n        const protocol = parsed.protocol ? `${parsed.protocol}:` : '';\n\n        // if cross origin\n        if (parsed.host !== loc.hostname || !samePort || protocol !== loc.protocol)\n            return 'anonymous';\n\n        return '';\n    }\n}\n","/**\n * Iterates an array in series.\n *\n * @typeparam T Element type of the array.\n * @param array Array to iterate.\n * @param iterator Function to call for each element.\n * @param callback Function to call when done, or on error.\n * @param deferNext Break synchronous each loop by calling next with a setTimeout of 1.\n */\nexport function eachSeries<T>(\n    array: T[],\n    iterator: (item: T, next: (err?: Error) => void) => void,\n    callback?: (err?: Error) => void,\n    deferNext = false) : void\n{\n    let i = 0;\n    const len = array.length;\n\n    (function next(err?: Error)\n    {\n        if (err || i === len)\n        {\n            if (callback)\n                callback(err);\n            return;\n        }\n\n        if (deferNext)\n            setTimeout(() => iterator(array[i++], next), 1);\n        else\n            iterator(array[i++], next);\n    })();\n}\n","import parseUri from 'parse-uri';\nimport { Signal } from 'type-signals';\nimport { AsyncQueue } from './async/AsyncQueue';\nimport { Resource, IResourceOptions } from './Resource';\nimport { eachSeries } from './async/eachSeries';\n\n// some constants\nconst MAX_PROGRESS = 100;\nconst rgxExtractUrlHash = /(#[\\w-]+)?$/;\n\n/**\n * @category Type Aliases\n */\nexport namespace Loader\n{\n    export type ResourceMap = Partial<Record<string, Resource>>;\n\n    export type OnProgressSignal = (loader: Loader, resource: Resource) => void;\n    export type OnErrorSignal = (errMessage: string, loader: Loader, resource: Resource) => void;\n    export type OnLoadSignal = (loader: Loader, resource: Resource) => void;\n    export type OnStartSignal = (loader: Loader) => void;\n    export type OnCompleteSignal = (loader: Loader, resources: ResourceMap) => void;\n\n    export type MiddlewareFn = (resource: Resource, next: () => void) => void;\n    export type UrlResolverFn = (url: string, parsed: ReturnType<typeof parseUri>) => string;\n}\n\ninterface Middleware\n{\n    fn: Loader.MiddlewareFn;\n    priority: number;\n}\n\n/**\n * Options for a call to `.add()`.\n */\nexport interface IAddOptions extends IResourceOptions\n{\n    // Extra values to be used by specific load strategies.\n    [key: string]: any;\n\n    // The url to load the resource from.\n    url: string;\n\n    // A base url to use for just this resource load.\n    baseUrl?: string;\n\n    // The name of the resource to load, if not passed the url is used.\n    name?: string;\n\n    // Callback to add an an onComplete signal istener.\n    onComplete?: Resource.OnCompleteSignal;\n\n    // Parent resource this newly added resource is a child of.\n    parentResource?: Resource;\n}\n\n/**\n * Manages the state and loading of multiple resources to load.\n * @preferred\n */\nexport class Loader\n{\n    /**\n     * The default middleware priority (50).\n     */\n    static readonly DefaultMiddlewarePriority = 50;\n\n    /**\n     * The progress percent of the loader going through the queue.\n     */\n    progress = 0;\n\n    /**\n     * Loading state of the loader, true if it is currently loading resources.\n     */\n    loading = false;\n\n    /**\n     * A querystring to append to every URL added to the loader.\n     *\n     * This should be a valid query string *without* the question-mark (`?`). The loader will\n     * also *not* escape values for you. Make sure to escape your parameters with\n     * [`encodeURIComponent`](https://mdn.io/encodeURIComponent) before assigning this property.\n     *\n     * @example\n     * const loader = new Loader();\n     *\n     * loader.defaultQueryString = 'user=me&password=secret';\n     *\n     * // This will request 'image.png?user=me&password=secret'\n     * loader.add('image.png').load();\n     *\n     * loader.reset();\n     *\n     * // This will request 'image.png?v=1&user=me&password=secret'\n     * loader.add('iamge.png?v=1').load();\n     */\n    defaultQueryString = '';\n\n    /**\n     * All the resources for this loader keyed by name, or URL if no name was given.\n     */\n    resources: Loader.ResourceMap = {};\n\n    /**\n     * Dispatched once per errored resource.\n     */\n    readonly onError: Signal<Loader.OnErrorSignal> = new Signal<Loader.OnErrorSignal>();\n\n    /**\n     * Dispatched once per loaded resource.\n     */\n    readonly onLoad: Signal<Loader.OnLoadSignal> = new Signal<Loader.OnLoadSignal>();\n\n    /**\n     * Dispatched when the loader begins to process the queue.\n     */\n    readonly onStart: Signal<Loader.OnStartSignal> = new Signal<Loader.OnStartSignal>();\n\n    /**\n     * Dispatched when the queued resources all load.\n     */\n    readonly onComplete: Signal<Loader.OnCompleteSignal> = new Signal<Loader.OnCompleteSignal>();\n\n    /**\n     * Dispatched once per loaded or errored resource.\n     */\n    readonly onProgress: Signal<Loader.OnProgressSignal> = new Signal<Loader.OnProgressSignal>();\n\n    /**\n     * The base url for all resources loaded by this loader.\n     */\n    private _baseUrl = '';\n\n    /**\n     * The internal list of URL resolver functions called within `_prepareUrl`.\n     */\n    private _urlResolvers: Loader.UrlResolverFn[] = [];\n\n    /**\n     * The middleware to run after loading each resource.\n     */\n    private _middleware: Middleware[] = [];\n\n    /**\n     * The tracks the resources we are currently completing parsing for.\n     */\n    private _resourcesParsing: Resource[] = [];\n\n    /**\n     * The `_loadResource` function bound with this object context.\n     */\n    private _boundLoadResource = this._loadResource.bind(this);\n\n    /**\n     * The resources waiting to be loaded.\n     */\n    private _queue: AsyncQueue<Resource>;\n\n    /**\n     * @param baseUrl The base url for all resources loaded by this loader.\n     * @param concurrency The number of resources to load concurrently.\n     */\n    constructor(baseUrl = '', concurrency = 10)\n    {\n        this.baseUrl = baseUrl;\n\n        this._queue = new AsyncQueue<Resource>(this._boundLoadResource, concurrency);\n        this._queue.pause();\n\n        // Add default middleware. This is already sorted so no need to do that again.\n        this._middleware = Loader._defaultMiddleware.slice();\n    }\n\n    /**\n     * The base url for all resources loaded by this loader.\n     * Any trailing slashes are trimmed off.\n     */\n    get baseUrl(): string { return this._baseUrl; }\n\n    set baseUrl(url: string)\n    {\n        while (url.length && url.charAt(url.length - 1) === '/')\n        {\n            url = url.slice(0, -1);\n        }\n\n        this._baseUrl = url;\n    }\n\n    /**\n     * Adds a resource (or multiple resources) to the loader queue.\n     *\n     * This function can take a wide variety of different parameters. The only thing that is always\n     * required the url to load. All the following will work:\n     *\n     * ```js\n     * loader\n     *     // name & url param syntax\n     *     .add('http://...')\n     *     .add('key', 'http://...')\n     *\n     *     // object syntax\n     *     .add({\n     *         name: 'key3',\n     *         url: 'http://...',\n     *         onComplete: function () {},\n     *     })\n     *\n     *     // you can also pass an array of objects or urls or both\n     *     .add([\n     *         { name: 'key4', url: 'http://...', onComplete: function () {} },\n     *         { url: 'http://...', onComplete: function () {} },\n     *         'http://...'\n     *     ])\n     * ```\n     */\n    add(url: string): this;\n    add(name: string, url: string): this;\n    add(options: IAddOptions): this;\n    add(resources: (IAddOptions|string)[]): this;\n    add(options: string | IAddOptions | (string | IAddOptions)[], url_?: string): this\n    {\n        // An array is a resource list.\n        if (Array.isArray(options))\n        {\n            for (let i = 0; i < options.length; ++i)\n            {\n                // can be string or IAddOptions, but either one is fine to pass\n                // as a param alone. The type assertion is just to appease TS.\n                this.add(options[i] as string);\n            }\n\n            return this;\n        }\n\n        let url = '';\n        let name = '';\n        let baseUrl = this._baseUrl;\n        let resOptions: IAddOptions = { url: '' };\n\n        if (typeof options === 'object')\n        {\n            url = options.url;\n            name = options.name || options.url;\n            baseUrl = options.baseUrl || baseUrl;\n            resOptions = options;\n        }\n        else\n        {\n            name = options;\n\n            if (typeof url_ === 'string')\n                url = url_;\n            else\n                url = name;\n        }\n\n        if (!url)\n            throw new Error('You must specify the `url` property.');\n\n        // if loading already you can only add resources that have a parent.\n        if (this.loading && !resOptions.parentResource)\n        {\n            throw new Error('Cannot add root resources while the loader is running.');\n        }\n\n        // check if resource already exists.\n        if (this.resources[name])\n        {\n            throw new Error(`Resource named \"${name}\" already exists.`);\n        }\n\n        // add base url if this isn't an absolute url\n        url = this._prepareUrl(url, baseUrl);\n        resOptions.url = url;\n\n        const resource = new Resource(name, resOptions);\n\n        this.resources[name] = resource;\n\n        if (typeof resOptions.onComplete === 'function')\n        {\n            resource.onAfterMiddleware.once(resOptions.onComplete);\n        }\n\n        // if actively loading, make sure to adjust progress chunks for that parent and its children\n        if (this.loading)\n        {\n            const parent = resOptions.parentResource!;\n            const incompleteChildren: Resource[] = [];\n\n            for (let i = 0; i < parent.children.length; ++i)\n            {\n                if (!parent.children[i].isComplete)\n                {\n                    incompleteChildren.push(parent.children[i]);\n                }\n            }\n\n            const fullChunk = parent.progressChunk * (incompleteChildren.length + 1); // +1 for parent\n            const eachChunk = fullChunk / (incompleteChildren.length + 2); // +2 for parent & new child\n\n            parent.children.push(resource);\n            parent.progressChunk = eachChunk;\n\n            for (let i = 0; i < incompleteChildren.length; ++i)\n            {\n                incompleteChildren[i].progressChunk = eachChunk;\n            }\n\n            resource.progressChunk = eachChunk;\n        }\n\n        // add the resource to the queue\n        this._queue.push(resource);\n\n        return this;\n    }\n\n    /**\n     * Sets up a middleware function that will run *after* the\n     * resource is loaded.\n     *\n     * You can optionally specify a priority for this middleware\n     * which will determine the order middleware functions are run.\n     * A lower priority value will make the function run earlier.\n     * That is, priority 30 is run before priority 50.\n     */\n    use(fn: Loader.MiddlewareFn, priority: number = Loader.DefaultMiddlewarePriority): this\n    {\n        this._middleware.push({ fn, priority });\n        this._middleware.sort((a, b) => a.priority - b.priority);\n        return this;\n    }\n\n    /**\n     * Resets the queue of the loader to prepare for a new load.\n     */\n    reset(): this\n    {\n        this.progress = 0;\n        this.loading = false;\n\n        this._queue.reset();\n        this._queue.pause();\n\n        // abort all resource loads\n        for (const k in this.resources)\n        {\n            const res = this.resources[k];\n\n            if (!res)\n                continue;\n\n            if (res._onCompleteBinding)\n                res._onCompleteBinding.detach();\n\n            if (res.isLoading)\n                res.abort();\n        }\n\n        this.resources = {};\n\n        return this;\n    }\n\n    /**\n     * Starts loading the queued resources.\n     */\n    load(cb?: Loader.OnCompleteSignal): this\n    {\n        if (typeof cb === 'function')\n            this.onComplete.once(cb);\n\n        // if the queue has already started we are done here\n        if (this.loading)\n            return this;\n\n        if (this._queue.idle())\n        {\n            this._onStart();\n            this._onComplete();\n        }\n        else\n        {\n            // distribute progress chunks\n            const numTasks = this._queue.length();\n            const chunk = MAX_PROGRESS / numTasks;\n\n            for (let i = 0; i < this._queue.length(); ++i)\n            {\n                this._queue.getTask(i).data.progressChunk = chunk;\n            }\n\n            // notify we are starting\n            this._onStart();\n\n            // start loading\n            this._queue.resume();\n        }\n\n        return this;\n    }\n\n    /**\n     * The number of resources to load concurrently.\n     */\n    get concurrency(): number\n    {\n        return this._queue.concurrency;\n    }\n\n    set concurrency(concurrency)\n    {\n        this._queue.concurrency = concurrency;\n    }\n\n    /**\n     * Add a function that can be used to modify the url just prior\n     * to `baseUrl` and `defaultQueryString` being applied.\n     */\n    addUrlResolver(func: Loader.UrlResolverFn): this\n    {\n        this._urlResolvers.push(func);\n        return this;\n    }\n\n    /**\n     * Prepares a url for usage based on the configuration of this object\n     */\n    private _prepareUrl(url: string, baseUrl: string): string\n    {\n        let parsed = parseUri(url, { strictMode: true });\n\n        this._urlResolvers.forEach(resolver => {\n            url = resolver(url, parsed);\n            parsed = parseUri(url, { strictMode: true });\n        });\n\n        // Only add `baseUrl` for urls that are not absolute.\n        if (!parsed.protocol && url.indexOf('//') !== 0)\n        {\n            // if the url doesn't start with a slash, then add one inbetween.\n            if (baseUrl.length && url.charAt(0) !== '/')\n                url = `${baseUrl}/${url}`;\n            else\n                url = baseUrl + url;\n        }\n\n        // if we need to add a default querystring, there is a bit more work\n        if (this.defaultQueryString)\n        {\n            const match = rgxExtractUrlHash.exec(url);\n\n            if (match)\n            {\n                const hash = match[0];\n\n                url = url.substr(0, url.length - hash.length);\n\n                if (url.indexOf('?') !== -1)\n                    url += `&${this.defaultQueryString}`;\n                else\n                    url += `?${this.defaultQueryString}`;\n\n                url += hash;\n            }\n        }\n\n        return url;\n    }\n\n    /**\n     * Loads a single resource.\n     */\n    private _loadResource(resource: Resource, dequeue: Function): void\n    {\n        resource._dequeue = dequeue;\n        resource._onCompleteBinding = resource.onComplete.once(this._onLoad, this);\n        resource.load();\n    }\n\n    /**\n     * Called once loading has started.\n     */\n    private _onStart(): void\n    {\n        this.progress = 0;\n        this.loading = true;\n        this.onStart.dispatch(this);\n    }\n\n    /**\n     * Called once each resource has loaded.\n     */\n    private _onComplete(): void\n    {\n        this.progress = MAX_PROGRESS;\n        this.loading = false;\n        this.onComplete.dispatch(this, this.resources);\n    }\n\n    /**\n     * Called each time a resources is loaded.\n     */\n    private _onLoad(resource: Resource): void\n    {\n        resource._onCompleteBinding = null;\n\n        // remove this resource from the async queue, and add it to our list\n        // of resources that are being parsed\n        this._resourcesParsing.push(resource);\n        resource._dequeue();\n\n        // run all the after middleware for this resource\n        eachSeries(\n            this._middleware,\n            (middleware, next) =>\n            {\n                middleware.fn.call(this, resource, next);\n            },\n            () =>\n            {\n                resource.onAfterMiddleware.dispatch(resource);\n\n                this.progress = Math.min(MAX_PROGRESS, this.progress + resource.progressChunk);\n                this.onProgress.dispatch(this, resource);\n\n                if (resource.error)\n                    this.onError.dispatch(resource.error, this, resource);\n                else\n                    this.onLoad.dispatch(this, resource);\n\n                this._resourcesParsing.splice(this._resourcesParsing.indexOf(resource), 1);\n\n                // do completion check\n                if (this._queue.idle() && this._resourcesParsing.length === 0)\n                    this._onComplete();\n            },\n            true);\n    }\n\n    /**\n     * A default array of middleware to run after loading each resource.\n     * Each of these middlewares are added to any new Loader instances when they are created.\n     */\n    private static _defaultMiddleware: Middleware[] = [];\n\n    /**\n     * Sets up a middleware function that will run *after* the\n     * resource is loaded.\n     *\n     * You can optionally specify a priority for this middleware\n     * which will determine the order middleware functions are run.\n     * A lower priority value will make the function run earlier.\n     * That is, priority 30 is run before priority 50.\n     */\n    static use(fn: Loader.MiddlewareFn, priority = Loader.DefaultMiddlewarePriority): typeof Loader\n    {\n        Loader._defaultMiddleware.push({ fn, priority });\n        Loader._defaultMiddleware.sort((a, b) => a.priority - b.priority);\n        return Loader;\n    }\n}\n","import { AbstractLoadStrategy } from './load_strategies/AbstractLoadStrategy';\nimport { AudioLoadStrategy } from './load_strategies/AudioLoadStrategy';\nimport { ImageLoadStrategy } from './load_strategies/ImageLoadStrategy';\nimport { MediaElementLoadStrategy } from './load_strategies/MediaElementLoadStrategy';\nimport { VideoLoadStrategy } from './load_strategies/VideoLoadStrategy';\nimport { XhrLoadStrategy } from './load_strategies/XhrLoadStrategy';\n\nimport { Loader } from './Loader';\nimport { Resource } from './Resource';\nimport { ResourceType, ResourceState } from './resource_type';\n\n// TODO: Hide this stuff and only expose for tests\nimport { AsyncQueue } from './async/AsyncQueue';\nimport { eachSeries } from './async/eachSeries';\nimport { getExtension } from './utilities';\n\nObject.defineProperties(Loader, {\n    AbstractLoadStrategy: { get() { return AbstractLoadStrategy; } },\n    AudioLoadStrategy: { get() { return AudioLoadStrategy; } },\n    ImageLoadStrategy: { get() { return ImageLoadStrategy; } },\n    MediaElementLoadStrategy: { get() { return MediaElementLoadStrategy; } },\n    VideoLoadStrategy: { get() { return VideoLoadStrategy; } },\n    XhrLoadStrategy: { get() { return XhrLoadStrategy; } },\n\n    Resource: { get() { return Resource; } },\n    ResourceType: { get() { return ResourceType; } },\n    ResourceState: { get() { return ResourceState; } },\n\n    // TODO: Hide this stuff and only expose for tests\n    async: { get() { return { AsyncQueue, eachSeries }; } },\n    getExtension: { get() { return getExtension; } },\n});\n\nexport default Loader;\n"],"names":["parseUri"],"mappings":";;;;;;;;;;;IAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,aAAa,IAAI,YAAY;IACjC,IAAI,SAAS,aAAa,CAAC,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE;IAC9C,QAAQ,IAAI,IAAI,KAAK,KAAK,CAAC,EAAE,EAAE,IAAI,GAAG,KAAK,CAAC,EAAE;IAC9C,QAAQ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACzB,QAAQ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACzB,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAC1B,QAAQ,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;IACrB,QAAQ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACzB,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IAC/B,KAAK;IACL,IAAI,aAAa,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;IACjD,QAAQ,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI;IAC/B,YAAY,OAAO,KAAK,CAAC;IACzB,QAAQ,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAChC,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN,IAAI,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;IAClD,QAAQ,IAAI,CAAC,MAAM,EAAE,CAAC;IACtB,KAAK,CAAC;IACN,IAAI,OAAO,aAAa,CAAC;IACzB,CAAC,EAAE,CAAC,CAAC;IACL,IAAI,MAAM,IAAI,YAAY;IAC1B,IAAI,SAAS,MAAM,GAAG;IACtB,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAC1B,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAC1B,QAAQ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IAC5B,KAAK;IACL,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;IAC5C,QAAQ,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;IAC9B,QAAQ,IAAI,QAAQ,GAAG,EAAE,CAAC;IAC1B,QAAQ,OAAO,IAAI,EAAE;IACrB,YAAY,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAChC,YAAY,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IAC7B,SAAS;IACT,QAAQ,OAAO,QAAQ,CAAC;IACxB,KAAK,CAAC;IACN,IAAI,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;IAC1C,QAAQ,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC;IAC5B,KAAK,CAAC;IACN,IAAI,MAAM,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,IAAI,EAAE;IAC3C,QAAQ,OAAO,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC;IACnC,KAAK,CAAC;IACN,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;IAC5C,QAAQ,IAAI,IAAI,GAAG,EAAE,CAAC;IACtB,QAAQ,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;IACtD,YAAY,IAAI,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;IACrC,SAAS;IACT,QAAQ,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;IAC9B,QAAQ,IAAI,CAAC,IAAI;IACjB,YAAY,OAAO,KAAK,CAAC;IACzB,QAAQ,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC;IAC3D,YAAY,OAAO,KAAK,CAAC;IACzB,QAAQ,OAAO,IAAI,EAAE;IACrB,YAAY,IAAI,IAAI,CAAC,IAAI;IACzB,gBAAgB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAClC,YAAY,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IAC9C,YAAY,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IAC7B,SAAS;IACT,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN,IAAI,MAAM,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,EAAE,EAAE,OAAO,EAAE;IAClD,QAAQ,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,IAAI,CAAC,EAAE;IACnD,QAAQ,OAAO,IAAI,CAAC,qBAAqB,CAAC,IAAI,aAAa,CAAC,EAAE,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC;IACjF,KAAK,CAAC;IACN,IAAI,MAAM,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,EAAE,EAAE,OAAO,EAAE;IACnD,QAAQ,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,IAAI,CAAC,EAAE;IACnD,QAAQ,OAAO,IAAI,CAAC,qBAAqB,CAAC,IAAI,aAAa,CAAC,EAAE,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;IAChF,KAAK,CAAC;IACN,IAAI,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,IAAI,EAAE;IAC9C,QAAQ,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI;IAC/B,YAAY,OAAO,IAAI,CAAC;IACxB,QAAQ,IAAI,IAAI,CAAC,IAAI;IACrB,YAAY,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IACvC,QAAQ,IAAI,IAAI,CAAC,IAAI;IACrB,YAAY,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IACvC,QAAQ,IAAI,IAAI,KAAK,IAAI,CAAC,KAAK,EAAE;IACjC,YAAY,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;IACnC,YAAY,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,EAAE;IACpC,gBAAgB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAClC,aAAa;IACb,SAAS;IACT,aAAa,IAAI,IAAI,KAAK,IAAI,CAAC,KAAK,EAAE;IACtC,YAAY,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;IACnC,YAAY,IAAI,IAAI,CAAC,KAAK;IAC1B,gBAAgB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;IACvC,SAAS;IACT,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAC1B,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN,IAAI,MAAM,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;IAC7C,QAAQ,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;IAC9B,QAAQ,IAAI,CAAC,IAAI;IACjB,YAAY,OAAO,IAAI,CAAC;IACxB,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAC1B,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAC1B,QAAQ,OAAO,IAAI,EAAE;IACrB,YAAY,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAC9B,YAAY,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IAC7B,SAAS;IACT,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN,IAAI,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,MAAM,EAAE;IAChD,QAAQ,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;IAC9B,KAAK,CAAC;IACN,IAAI,MAAM,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;IACzC,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;IACzB,QAAQ,IAAI,OAAO,GAAG,EAAE,CAAC;IACzB,QAAQ,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;IACtD,YAAY,OAAO,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;IACxC,SAAS;IACT,QAAQ,IAAI,EAAE,GAAG,YAAY;IAC7B,YAAY,IAAI,IAAI,GAAG,EAAE,CAAC;IAC1B,YAAY,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;IAC1D,gBAAgB,IAAI,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;IACzC,aAAa;IACb,YAAY,OAAO,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IACrD,SAAS,CAAC;IACV,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;IACjD,YAAY,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC/B,SAAS;IACT,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN,IAAI,MAAM,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,IAAI,EAAE;IAC7D,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;IACzB,YAAY,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAC9B,YAAY,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAC9B,SAAS;IACT,aAAa;IACb,YAAY,IAAI,IAAI,CAAC,KAAK;IAC1B,gBAAgB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;IACvC,YAAY,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;IACnC,YAAY,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAC9B,SAAS;IACT,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAC1B,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN,IAAI,OAAO,MAAM,CAAC;IAClB,CAAC,EAAE,CAAC;;IC/GJ;QAsBI,8BAAqB,MAAS;YAAT,WAAM,GAAN,MAAM,CAAG;YAjBrB,YAAO,GAA+C,IAAI,MAAM,EAAsC,CAAC;YAMvG,eAAU,GAAkD,IAAI,MAAM,EAAyC,CAAC;YAShH,eAAU,GAAkD,IAAI,MAAM,EAAyC,CAAC;SAGtH;QAWP,2BAAC;IAAD,CAAC,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;aC7De,YAAY,CAAC,GAAW;QAEpC,IAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,GAAG,GAAG,EAAE,CAAC;QAEb,IAAI,SAAS,EACb;YACI,IAAM,UAAU,GAAG,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAEpC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,UAAU,GAAG,CAAC,EAAE,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC,CAAC;SACrE;aAED;YACI,IAAM,UAAU,GAAG,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACpC,IAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACnC,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAClB,UAAU,GAAG,CAAC,CAAC,GAAG,UAAU,GAAG,GAAG,CAAC,MAAM,EACzC,SAAS,GAAG,CAAC,CAAC,GAAG,SAAS,GAAG,GAAG,CAAC,MAAM,CAC1C,CAAC;YAEF,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;YAC9B,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;SACjD;QAED,OAAO,GAAG,CAAC,WAAW,EAAE,CAAC;IAC7B,CAAC;AAED,aAAgB,WAAW,CAAC,CAAQ;QAEhC,MAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC;IACjE,CAAC;;IClCD,IAAY,YAoBX;IApBD,WAAY,YAAY;QAGpB,qDAAO,CAAA;QAEP,mDAAM,CAAA;QAEN,+CAAI,CAAA;QAEJ,+CAAI,CAAA;QAEJ,6CAAG,CAAA;QAEH,iDAAK,CAAA;QAEL,iDAAK,CAAA;QAEL,iDAAK,CAAA;QAEL,+CAAI,CAAA;IACR,CAAC,EApBW,YAAY,KAAZ,YAAY,QAoBvB;AAED,IAAA,IAAY,aAKX;IALD,WAAY,aAAa;QAErB,6DAAU,CAAA;QACV,uDAAO,CAAA;QACP,yDAAQ,CAAA;IACZ,CAAC,EALW,aAAa,KAAb,aAAa,QAKxB;;ICnBD;QAAuD,4CAA6C;QAShG,kCAAY,MAA+B,EAAW,WAAgC;YAAtF,YAEI,kBAAM,MAAM,CAAC,SAChB;YAHqD,iBAAW,GAAX,WAAW,CAAqB;YAP9E,kBAAY,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;YACvC,mBAAa,GAAG,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;YACzC,qBAAe,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;YAE7C,cAAQ,GAAG,KAAI,CAAC,cAAc,EAAE,CAAC;YACjC,mBAAa,GAAG,CAAC,CAAC;;SAKzB;QAED,uCAAI,GAAJ;YAEI,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAE3B,IAAI,MAAM,CAAC,WAAW;gBAClB,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;YAEnD,IAAM,IAAI,GAAG,MAAM,CAAC,SAAS,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAG9C,IAAK,SAAiB,CAAC,UAAU,EACjC;gBACI,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;aAC/B;iBAED;gBACI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EACpC;oBACI,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;oBACpB,IAAI,QAAQ,GAAG,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;oBAElE,IAAI,CAAC,QAAQ;wBACT,QAAQ,GAAM,IAAI,CAAC,WAAW,SAAI,YAAY,CAAC,GAAG,CAAG,CAAC;oBAE1D,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;oBAEhD,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;oBACjB,MAAM,CAAC,IAAI,GAAG,QAAQ,CAAC;oBAEvB,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;iBACrC;aACJ;YAED,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;YACjE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;YAC3E,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;YAEnE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;YAErB,IAAI,MAAM,CAAC,OAAO;gBACd,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,eAAe,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;SACpF;QAED,wCAAK,GAAL;YAEI,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,EAC/B;gBACI,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;aACvD;YACD,IAAI,CAAC,MAAM,CAAI,IAAI,CAAC,WAAW,+BAA4B,CAAC,CAAC;SAChE;QAEO,iDAAc,GAAtB;YAEI,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW;gBACvB,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;;gBAE/B,OAAO,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SACvD;QAEO,+CAAY,GAApB;YAEI,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAEjC,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;YACpE,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,gBAAgB,EAAE,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;YAC9E,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;SACzE;QAEO,yCAAM,GAAd,UAAe,UAAkB;YAE7B,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;SACrC;QAEO,4CAAS,GAAjB;YAEI,IAAI,CAAC,YAAY,EAAE,CAAC;YAEpB,IAAI,YAAY,GAAG,YAAY,CAAC,OAAO,CAAC;YAExC,QAAQ,IAAI,CAAC,WAAW;gBAEpB,KAAK,OAAO;oBAAE,YAAY,GAAG,YAAY,CAAC,KAAK,CAAC;oBAAC,MAAM;gBACvD,KAAK,OAAO;oBAAE,YAAY,GAAG,YAAY,CAAC,KAAK,CAAC;oBAAC,MAAM;gBACvD,SAAS,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aAC1C;YAED,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,YAAY,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;SACzD;QAEO,0CAAO,GAAf;YAEI,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;QAEO,2CAAQ,GAAhB;YAEI,IAAI,CAAC,MAAM,CAAI,IAAI,CAAC,WAAW,qBAAkB,CAAC,CAAC;SACtD;QAEO,6CAAU,GAAlB;YAEI,IAAI,CAAC,MAAM,CAAI,IAAI,CAAC,WAAW,qBAAkB,CAAC,CAAC;SACtD;QACL,+BAAC;IAAD,CAxHA,CAAuD,oBAAoB,GAwH1E;;ICjID;QAAuC,qCAAwB;QAE3D,2BAAY,MAA+B;mBAEvC,kBAAM,MAAM,EAAE,OAAO,CAAC;SACzB;QACL,wBAAC;IAAD,CANA,CAAuC,wBAAwB,GAM9D;;ICJD,IAAM,SAAS,GAAG,oFAAoF,CAAC;IAOvG;QAAuC,qCAAsC;QAA7E;YAAA,qEA0EC;YAxEW,kBAAY,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;YACvC,mBAAa,GAAG,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;YACzC,qBAAe,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;YAE7C,cAAQ,GAAG,KAAI,CAAC,cAAc,EAAE,CAAC;YACjC,mBAAa,GAAG,CAAC,CAAC;;SAmE7B;QAjEG,gCAAI,GAAJ;YAEI,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAE3B,IAAI,MAAM,CAAC,WAAW;gBAClB,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;YAEnD,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC;YAE/B,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;YACjE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;YAEnE,IAAI,MAAM,CAAC,OAAO;gBACd,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,eAAe,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;SACpF;QAED,iCAAK,GAAL;YAEI,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,SAAS,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,iCAAiC,CAAC,CAAC;SAClD;QAEO,0CAAc,GAAtB;YAEI,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW;gBACvB,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;;gBAE/B,OAAO,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;SAC3C;QAEO,wCAAY,GAApB;YAEI,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAEjC,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;YACpE,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;SACzE;QAEO,kCAAM,GAAd,UAAe,UAAkB;YAE7B,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;SACrC;QAEO,qCAAS,GAAjB;YAEI,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC/D;QAEO,mCAAO,GAAf;YAEI,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;QAEO,oCAAQ,GAAhB;YAEI,IAAI,CAAC,MAAM,CAAC,uBAAuB,CAAC,CAAC;SACxC;QAEO,sCAAU,GAAlB;YAEI,IAAI,CAAC,MAAM,CAAC,uBAAuB,CAAC,CAAC;SACxC;QACL,wBAAC;IAAD,CA1EA,CAAuC,oBAAoB,GA0E1D;;ICnFD;QAAuC,qCAAwB;QAE3D,2BAAY,MAA+B;mBAEvC,kBAAM,MAAM,EAAE,OAAO,CAAC;SACzB;QACL,wBAAC;IAAD,CANA,CAAuC,wBAAwB,GAM9D;;ICFD,IAAM,MAAM,GAAG,CAAC,EAAG,MAAc,CAAC,cAAc,IAAI,EAAE,iBAAiB,KAAK,IAAI,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC;AAapG,IAAA,IAAY,eAcX;IAdD,WAAY,eAAe;QAGvB,mCAAoB,CAAA;QAEpB,yCAA2B,CAAA;QAE3B,gCAAoB,CAAA;QAEpB,wCAAwB,CAAA;QAExB,gCAAoB,CAAA;QAEpB,gCAAoB,CAAA;IACxB,CAAC,EAdW,eAAe,KAAf,eAAe,QAc1B;AAAA,IAUD,SAAS,OAAO,CAAC,GAAmB;QAEhC,OAAO,GAAG,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACjD,CAAC;IAED;QAAqC,mCAAoC;QAAzE;YAAA,qEAoTC;YAhTW,kBAAY,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;YACvC,mBAAa,GAAG,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;YACzC,mBAAa,GAAG,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;YACzC,qBAAe,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;YAC7C,sBAAgB,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;YAE/C,UAAI,GAAG,KAAI,CAAC,cAAc,EAAE,CAAC;YAC7B,cAAQ,GAAG,eAAe,CAAC,OAAO,CAAC;;SAyS9C;QAvSG,8BAAI,GAAJ;YAEI,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC3B,IAAM,GAAG,GAAG,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAErC,IAAI,OAAO,MAAM,CAAC,OAAO,KAAK,QAAQ,EACtC;gBACI,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;aAChD;YAED,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;YAEtB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,IAAI,eAAe,CAAC,OAAO,CAAC;YAM1D,IAAI,MAAM,EACV;gBAEI,GAAG,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,IAAI,IAAI,CAAC;gBAErC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;gBAC/B,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC;gBACjC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC;gBACrC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC;gBAEvC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;gBAKlC,UAAU,CAAC,cAAc,GAAG,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;aAC9C;iBAED;gBACI,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;gBAElC,IAAI,MAAM,CAAC,OAAO;oBACd,GAAG,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;gBAIjC,IAAI,MAAM,CAAC,OAAO,KAAK,eAAe,CAAC,IAAI,IAAI,MAAM,CAAC,OAAO,KAAK,eAAe,CAAC,QAAQ;oBACtF,GAAG,CAAC,YAAY,GAAG,eAAe,CAAC,IAAI,CAAC;;oBAExC,GAAG,CAAC,YAAY,GAAG,MAAM,CAAC,OAAO,CAAC;gBAEtC,GAAG,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;gBACvD,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;gBACzD,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;gBACzD,GAAG,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;gBAC7D,GAAG,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;gBAE/D,GAAG,CAAC,IAAI,EAAE,CAAC;aACd;SACJ;QAED,+BAAK,GAAL;YAEI,IAAI,MAAM,EACV;gBACI,IAAI,CAAC,YAAY,EAAE,CAAC;gBACpB,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;gBAClB,IAAI,CAAC,QAAQ,EAAE,CAAC;aACnB;iBAED;gBAEI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;aACrB;SACJ;QAEO,wCAAc,GAAtB;YAEI,IAAI,MAAM;gBACN,OAAO,IAAK,MAAc,CAAC,cAAc,EAAE,CAAC;;gBAE5C,OAAO,IAAI,cAAc,EAAE,CAAC;SACnC;QAEO,2CAAiB,GAAzB,UAA0B,GAAW;YAEjC,OAAO,eAAe,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,eAAe,CAAC,OAAO,CAAC;SACtE;QAEO,sCAAY,GAApB;YAEI,IAAI,MAAM,EACV;gBACI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACxB,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACzB,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBAC3B,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;aAC/B;iBAED;gBACI,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;gBAChE,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;gBAClE,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;gBAClE,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;gBACtE,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;aAC3E;SACJ;QAEO,gCAAM,GAAd,UAAe,UAAkB;YAE7B,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;SACrC;QAEO,mCAAS,GAAjB,UAAkB,IAAkB,EAAE,IAAS;YAE3C,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;SACxC;QAEO,iCAAO,GAAf;YAEI,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;YACtB,IAAI,IAAI,GAAG,EAAE,CAAC;YAGd,IAAI,MAAM,GAAG,OAAO,GAAG,CAAC,MAAM,KAAK,WAAW,SAAmB,GAAG,CAAC,MAAM,CAAC;YAG5E,IAAI,OAAO,GAAG,CAAC,YAAY,KAAK,WAAW,IAAI,GAAG,CAAC,YAAY,KAAK,EAAE,IAAI,GAAG,CAAC,YAAY,KAAK,MAAM,EACrG;gBACI,IAAI,GAAG,GAAG,CAAC,YAAY,CAAC;aAC3B;YAID,IAAI,MAAM,MAAoB,KAAK,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,GAAG,CAAC,YAAY,KAAK,eAAe,CAAC,MAAM,CAAC,EAClG;gBACI,MAAM,MAAgB,CAAC;aAC1B;iBAEI,IAAI,MAAM,SAA0B,EACzC;gBACI,MAAM,MAAmB,CAAC;aAC7B;YAED,IAAM,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;YAEvD,IAAI,eAAe,QAAkB,EACrC;gBACI,IAAI,CAAC,MAAM,CAAC,MAAI,GAAG,CAAC,MAAM,UAAK,GAAG,CAAC,UAAU,UAAK,GAAG,CAAC,WAAa,CAAC,CAAC;gBACrE,OAAO;aACV;YAED,QAAQ,IAAI,CAAC,QAAQ;gBAEjB,KAAK,eAAe,CAAC,MAAM;oBACvB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC;oBAClD,MAAM;gBAEV,KAAK,eAAe,CAAC,IAAI;oBACrB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC;oBAChD,MAAM;gBAEV,KAAK,eAAe,CAAC,QAAQ;oBACzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;oBAC1B,MAAM;gBAEV,KAAK,eAAe,CAAC,IAAI;oBACrB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;oBACtB,MAAM;gBAEV,KAAK,eAAe,CAAC,OAAO,CAAC;gBAC7B,KAAK,eAAe,CAAC,IAAI;oBACrB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;oBACxC,MAAM;gBAEV;oBACI,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAClC;SACJ;QAEO,wCAAc,GAAtB,UAAuB,IAAY;YAE/B,IACA;gBACI,IAAI,MAAM,CAAC,SAAS,EACpB;oBACI,IAAM,MAAM,GAAG,IAAI,SAAS,EAAE,CAAC;oBAC/B,IAAM,IAAI,GAAG,MAAM,CAAC,eAAe,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;oBACtD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;iBAC1C;qBAED;oBACI,IAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBAC1C,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC;oBACrB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;iBACzC;aACJ;YACD,OAAO,CAAC,EACR;gBACI,IAAI,CAAC,MAAM,CAAC,uCAAqC,CAAG,CAAC,CAAC;aACzD;SACJ;QAEO,oCAAU,GAAlB,UAAmB,IAAY;YAE3B,IACA;gBACI,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC9B,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;aAC3C;YACD,OAAO,CAAC,EACR;gBACI,IAAI,CAAC,MAAM,CAAC,wCAAsC,CAAG,CAAC,CAAC;aAC1D;SACJ;QAEO,kCAAQ,GAAhB;YAEI,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;YACtB,IAAI,CAAC,MAAM,CAAI,OAAO,CAAC,GAAG,CAAC,sCAAmC,CAAC,CAAC;SACnE;QAEO,kCAAQ,GAAhB;YAEI,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;YACtB,IAAI,CAAC,MAAM,CAAI,OAAO,CAAC,GAAG,CAAC,iCAA4B,GAAG,CAAC,MAAM,kBAAY,GAAG,CAAC,UAAU,OAAG,CAAC,CAAC;SACnG;QAEO,oCAAU,GAAlB;YAEI,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;YACtB,IAAI,CAAC,MAAM,CAAI,OAAO,CAAC,GAAG,CAAC,wBAAqB,CAAC,CAAC;SACrD;QAEO,qCAAW,GAAnB,UAAoB,KAAoB;YAEpC,IAAI,KAAK,IAAI,KAAK,CAAC,gBAAgB,EACnC;gBACI,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;aACxD;SACJ;QAQM,mCAAmB,GAA1B,UAA2B,OAAe,EAAE,OAAwB;YAEhE,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;gBACrC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAEnC,IAAI,CAAC,OAAO;gBACR,OAAO;YAEX,eAAe,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC;SAClD;QA5Qe,4BAAY,GAAG,eAAe,CAAC;QA8QhC,2BAAW,GAA6C;YAEnE,KAAK,EAAO,eAAe,CAAC,QAAQ;YACpC,IAAI,EAAQ,eAAe,CAAC,QAAQ;YACpC,GAAG,EAAS,eAAe,CAAC,QAAQ;YACpC,GAAG,EAAS,eAAe,CAAC,QAAQ;YACpC,GAAG,EAAS,eAAe,CAAC,QAAQ;YACpC,GAAG,EAAS,eAAe,CAAC,QAAQ;YAKpC,GAAG,EAAS,eAAe,CAAC,QAAQ;YAGpC,GAAG,EAAS,eAAe,CAAC,IAAI;YAChC,GAAG,EAAS,eAAe,CAAC,IAAI;YAChC,GAAG,EAAS,eAAe,CAAC,IAAI;YAChC,GAAG,EAAS,eAAe,CAAC,IAAI;YAChC,IAAI,EAAQ,eAAe,CAAC,IAAI;YAChC,GAAG,EAAS,eAAe,CAAC,IAAI;YAChC,IAAI,EAAQ,eAAe,CAAC,IAAI;YAChC,IAAI,EAAQ,eAAe,CAAC,IAAI;YAChC,GAAG,EAAS,eAAe,CAAC,IAAI;YAGhC,IAAI,EAAQ,eAAe,CAAC,IAAI;YAGhC,IAAI,EAAQ,eAAe,CAAC,IAAI;YAChC,GAAG,EAAS,eAAe,CAAC,IAAI;YAGhC,GAAG,EAAS,eAAe,CAAC,MAAM;YAClC,GAAG,EAAS,eAAe,CAAC,MAAM;SACrC,CAAC;QACN,sBAAC;KAAA,CApToC,oBAAoB,GAoTxD;;IClWD,4DAAc,GAAG,SAAS,QAAQ,EAAE,GAAG,EAAE,IAAI,EAAE;IAC/C,EAAE,IAAI,GAAG,IAAI,IAAI,GAAE;AACnB;IACA,EAAE,IAAI,CAAC,GAAG;IACV,IAAI,GAAG,EAAE,CAAC,QAAQ,EAAE,UAAU,EAAE,WAAW,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,WAAW,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC;IACxJ,IAAI,CAAC,EAAE;IACP,MAAM,IAAI,EAAE,UAAU;IACtB,MAAM,MAAM,EAAE,2BAA2B;IACzC,KAAK;IACL,IAAI,MAAM,EAAE;IACZ,MAAM,MAAM,EAAE,yIAAyI;IACvJ,MAAM,KAAK,EAAE,kMAAkM;IAC/M,KAAK;IACL,IAAG;AACH;IACA,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,QAAQ,GAAG,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,EAAC;IAClE,EAAE,IAAI,GAAG,GAAG,GAAE;IACd,EAAE,IAAI,CAAC,GAAG,GAAE;AACZ;IACA,EAAE,OAAO,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,GAAE;AACxC;IACA,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,GAAE;IACpB,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC3D,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,GAAE;IAClC,GAAG,EAAC;AACJ;IACA,EAAE,OAAO,GAAG;IACZ;;ICnBA,SAAS,QAAQ,CAAI,IAA2B;QAE5C,IAAI,EAAE,GAAuB,IAAI,CAAC;QAElC,OAAO,SAAS,WAAW;YAAY,cAAc;iBAAd,UAAc,EAAd,qBAAc,EAAd,IAAc;gBAAd,yBAAc;;YAEjD,IAAI,EAAE,KAAK,IAAI;gBACX,MAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;YAEpD,IAAM,MAAM,GAAG,EAAE,CAAC;YAClB,EAAE,GAAG,IAAI,CAAC;YACV,OAAO,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;SACnC,CAAC;IACN,CAAC;IA2BD;QAeI,oBAAqB,MAAkB,EAAS,WAAe;YAAf,4BAAA,EAAA,eAAe;YAA1C,WAAM,GAAN,MAAM,CAAY;YAAS,gBAAW,GAAX,WAAW,CAAI;YAbvD,YAAO,GAAG,CAAC,CAAC;YACZ,WAAM,GAAG,CAAC,CAAC;YACX,WAAM,GAAG,KAAK,CAAC;YAEf,aAAQ,GAAG,KAAK,CAAC;YACjB,WAAM,GAAe,EAAE,CAAC;YAEvB,gBAAW,GAA8B,IAAI,MAAM,EAAqB,CAAC;YACzE,kBAAa,GAAgC,IAAI,MAAM,EAAuB,CAAC;YAC/E,YAAO,GAA0B,IAAI,MAAM,EAAiB,CAAC;YAC7D,YAAO,GAA0B,IAAI,MAAM,EAAiB,CAAC;YAC7D,YAAO,GAA6B,IAAI,MAAM,EAAoB,CAAC;YAIxE,IAAI,WAAW,KAAK,CAAC;gBACjB,MAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;YAEpD,IAAI,CAAC,MAAM,GAAG,WAAW,GAAG,CAAC,CAAC;SACjC;QAED,sBAAI,+BAAO;iBAAX,cAAgB,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE;;;WAAA;QAEvC,0BAAK,GAAL;YAEI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;YACzB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;SACpB;QAED,yBAAI,GAAJ,UAAK,IAAO,EAAE,QAAwB;YAElC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;SACvC;QAED,4BAAO,GAAP,UAAQ,IAAO,EAAE,QAAwB;YAErC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;SACtC;QAED,4BAAO,GAAP;YAEI,OAAO,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAC5E;gBACI,IAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAG,CAAC;gBAElC,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC;oBACxB,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;gBAE5B,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC;gBAElB,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,CAAC,WAAW;oBACjC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;gBAEhC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACtD;SACJ;QAED,2BAAM,GAAN;YAEI,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;SAC7B;QAED,4BAAO,GAAP;YAEI,OAAO,IAAI,CAAC,OAAO,CAAC;SACvB;QAED,yBAAI,GAAJ;YAEI,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,KAAK,CAAC,CAAC;SAClD;QAED,0BAAK,GAAL;YAEI,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI;gBACpB,OAAO;YAEX,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACtB;QAED,2BAAM,GAAN;YAEI,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK;gBACrB,OAAO;YAEX,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YAIpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,EAC1C;gBACI,IAAI,CAAC,OAAO,EAAE,CAAC;aAClB;SACJ;QAED,4BAAO,GAAP,UAAQ,KAAa;YAEjB,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SAC7B;QAEO,4BAAO,GAAf,UAAgB,IAAO,EAAE,aAAsB,EAAE,QAAwB;YAAzE,iBAwBC;YAtBG,IAAI,QAAQ,IAAI,IAAI,IAAI,OAAO,QAAQ,KAAK,UAAU,EACtD;gBACI,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;aACvD;YAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YAErB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE,EAC/B;gBAEI,UAAU,CAAC,cAAM,OAAA,KAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAA,EAAE,CAAC,CAAC,CAAC;gBAC7C,OAAO;aACV;YAED,IAAM,IAAI,GAAa,EAAE,IAAI,MAAA,EAAE,QAAQ,UAAA,EAAE,CAAC;YAE1C,IAAI,aAAa;gBACb,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;;gBAE1B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAE3B,UAAU,CAAC,cAAM,OAAA,KAAI,CAAC,OAAO,EAAE,GAAA,EAAE,CAAC,CAAC,CAAC;SACvC;QAEO,0BAAK,GAAb,UAAc,IAAc;YAA5B,iBAoBC;YAlBG,OAAO,UAAC,GAAW;gBAAE,cAAc;qBAAd,UAAc,EAAd,qBAAc,EAAd,IAAc;oBAAd,6BAAc;;gBAE/B,KAAI,CAAC,OAAO,IAAI,CAAC,CAAC;gBAElB,IAAI,IAAI,CAAC,QAAQ;oBACb,IAAI,CAAC,QAAQ,OAAb,IAAI,kBAAU,GAAG,GAAK,IAAI,GAAE;gBAEhC,IAAI,GAAG;oBACH,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;gBAE1C,IAAI,KAAI,CAAC,OAAO,KAAK,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,MAAM,CAAC;oBAChD,KAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;gBAElC,IAAI,KAAI,CAAC,IAAI,EAAE;oBACX,KAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;gBAE5B,KAAI,CAAC,OAAO,EAAE,CAAC;aAClB,CAAC;SACL;QACL,iBAAC;IAAD,CAAC,IAAA;;ICvKD;QA6II,kBAAY,IAAY,EAAE,OAAyB;YA9E1C,aAAQ,GAAe,EAAE,CAAC;YAK1B,YAAO,GAAmC,IAAI,MAAM,EAA0B,CAAC;YAS/E,eAAU,GAAsC,IAAI,MAAM,EAA6B,CAAC;YAMxF,eAAU,GAAsC,IAAI,MAAM,EAA6B,CAAC;YAKxF,sBAAiB,GAAsC,IAAI,MAAM,EAA6B,CAAC;YAMxG,SAAI,GAAQ,IAAI,CAAC;YAYjB,SAAI,GAAG,YAAY,CAAC,OAAO,CAAC;YAK5B,UAAK,GAAG,EAAE,CAAC;YAKX,kBAAa,GAAG,CAAC,CAAC;YAQlB,aAAQ,GAAa,eAAc,CAAC;YAQpC,uBAAkB,GAAoD,IAAI,CAAC;YAGnE,WAAM,GAAG,aAAa,CAAC,UAAU,CAAC;YAQtC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;YAEjC,IAAI,OAAO,OAAO,CAAC,WAAW,KAAK,QAAQ;gBACvC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAElE,IAAI,OAAO,CAAC,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAC9D;gBACI,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC;gBAIjC,IAAI,CAAC,SAAiB,CAAC,MAAM,GAAG,OAAO,CAAC;aAC5C;iBAED;gBACI,IAAI,YAAY,GAAG,OAAO,CAAC,QAAQ,CAAC;gBAEpC,IAAI,CAAC,YAAY;oBACb,YAAY,GAAG,QAAQ,CAAC,gBAAgB,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;gBAExE,IAAI,CAAC,YAAY;oBACb,YAAY,GAAG,QAAQ,CAAC,oBAAoB,CAAC;gBAEjD,IAAI,CAAC,SAAS,GAAG,IAAI,YAAY,CAAC,OAAO,CAAC,CAAC;aAC9C;YAED,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAC9C,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;YACpD,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;SACvD;QA5IM,+BAAsB,GAA7B,UAA8B,QAAkC;YAE5D,QAAQ,CAAC,oBAAoB,GAAG,QAAQ,CAAC;SAC5C;QAQM,wBAAe,GAAtB,UAAuB,OAAe,EAAE,QAAkC;YAEtE,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;gBACrC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAEnC,IAAI,CAAC,OAAO;gBACR,OAAO;YAEX,QAAQ,CAAC,gBAAgB,CAAC,OAAO,CAAC,GAAG,QAAQ,CAAC;SACjD;QA0HD,sBAAI,8BAAQ;iBAAZ,cAAuC,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE;;;WAAA;QAC/D,sBAAI,yBAAG;iBAAP,cAAoB,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;;;WAAA;QACvD,sBAAI,+BAAS;iBAAb,cAA2B,OAAO,IAAI,CAAC,MAAM,KAAK,aAAa,CAAC,OAAO,CAAC,EAAE;;;WAAA;QAC1E,sBAAI,gCAAU;iBAAd,cAA4B,OAAO,IAAI,CAAC,MAAM,KAAK,aAAa,CAAC,QAAQ,CAAC,EAAE;;;WAAA;QAK5E,wBAAK,GAAL;YAEI,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;SAC1B;QAKD,uBAAI,GAAJ;YAEI,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC,OAAO,CAAC;YACpC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC5B,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACzB;QAEO,yBAAM,GAAd,UAAe,UAAkB;YAE7B,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC,QAAQ,CAAC;YACrC,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC;YACxB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SAClC;QAEO,4BAAS,GAAjB,UAAkB,IAAkB,EAAE,IAAS;YAE3C,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC,QAAQ,CAAC;YACrC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SAClC;QAEO,4BAAS,GAAjB,UAAkB,OAAe;YAE7B,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;SAC3C;QAKO,wCAAqB,GAA7B,UAA8B,GAAW,EAAE,GAAqB;YAArB,oBAAA,EAAA,MAAM,MAAM,CAAC,QAAQ;YAG5D,IAAI,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC;gBAC9D,OAAO,EAAE,CAAC;YAKd,IAAI,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,QAAQ,CAAC,MAAM;gBACxC,OAAO,WAAW,CAAC;YAEvB,IAAI,CAAC,QAAQ,CAAC,WAAW;gBACrB,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAKvD,QAAQ,CAAC,WAAW,CAAC,IAAI,GAAG,GAAG,CAAC;YAEhC,IAAM,MAAM,GAAGA,wDAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;YAEzE,IAAM,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,KAAK,EAAE,MAAM,MAAM,CAAC,IAAI,KAAK,GAAG,CAAC,IAAI,CAAC,CAAC;YACjF,IAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,GAAM,MAAM,CAAC,QAAQ,MAAG,GAAG,EAAE,CAAC;YAG9D,IAAI,MAAM,CAAC,IAAI,KAAK,GAAG,CAAC,QAAQ,IAAI,CAAC,QAAQ,IAAI,QAAQ,KAAK,GAAG,CAAC,QAAQ;gBACtE,OAAO,WAAW,CAAC;YAEvB,OAAO,EAAE,CAAC;SACb;QAzPc,oBAAW,GAA6B,IAAI,CAAC;QAE7C,6BAAoB,GAA6B,eAAe,CAAC;QACjE,yBAAgB,GAAsD;YAEjF,GAAG,EAAS,iBAAiB;YAC7B,GAAG,EAAS,iBAAiB;YAC7B,GAAG,EAAS,iBAAiB;YAC7B,GAAG,EAAS,iBAAiB;YAC7B,IAAI,EAAQ,iBAAiB;YAC7B,GAAG,EAAS,iBAAiB;YAC7B,IAAI,EAAQ,iBAAiB;YAC7B,IAAI,EAAQ,iBAAiB;YAC7B,GAAG,EAAS,iBAAiB;YAC7B,GAAG,EAAS,iBAAiB;YAC7B,SAAS,EAAG,iBAAiB;YAG7B,GAAG,EAAS,iBAAiB;YAC7B,GAAG,EAAS,iBAAiB;YAC7B,GAAG,EAAS,iBAAiB;YAG7B,GAAG,EAAS,iBAAiB;YAC7B,IAAI,EAAQ,iBAAiB;YAC7B,GAAG,EAAS,iBAAiB;SAChC,CAAC;QAgON,eAAC;KA5PD,IA4PC;;aCrRe,UAAU,CACtB,KAAU,EACV,QAAwD,EACxD,QAAgC,EAChC,SAAiB;QAAjB,0BAAA,EAAA,iBAAiB;QAEjB,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,IAAM,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC;QAEzB,CAAC,SAAS,IAAI,CAAC,GAAW;YAEtB,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,EACpB;gBACI,IAAI,QAAQ;oBACR,QAAQ,CAAC,GAAG,CAAC,CAAC;gBAClB,OAAO;aACV;YAED,IAAI,SAAS;gBACT,UAAU,CAAC,cAAM,OAAA,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAA,EAAE,CAAC,CAAC,CAAC;;gBAEhD,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;SAClC,GAAG,CAAC;IACT,CAAC;;ICzBD,IAAM,YAAY,GAAG,GAAG,CAAC;IACzB,IAAM,iBAAiB,GAAG,aAAa,CAAC;IAqDxC;QAuGI,gBAAY,OAAY,EAAE,WAAgB;YAA9B,wBAAA,EAAA,YAAY;YAAE,4BAAA,EAAA,gBAAgB;YA7F1C,aAAQ,GAAG,CAAC,CAAC;YAKb,YAAO,GAAG,KAAK,CAAC;YAsBhB,uBAAkB,GAAG,EAAE,CAAC;YAKxB,cAAS,GAAuB,EAAE,CAAC;YAK1B,YAAO,GAAiC,IAAI,MAAM,EAAwB,CAAC;YAK3E,WAAM,GAAgC,IAAI,MAAM,EAAuB,CAAC;YAKxE,YAAO,GAAiC,IAAI,MAAM,EAAwB,CAAC;YAK3E,eAAU,GAAoC,IAAI,MAAM,EAA2B,CAAC;YAKpF,eAAU,GAAoC,IAAI,MAAM,EAA2B,CAAC;YAKrF,aAAQ,GAAG,EAAE,CAAC;YAKd,kBAAa,GAA2B,EAAE,CAAC;YAK3C,gBAAW,GAAiB,EAAE,CAAC;YAK/B,sBAAiB,GAAe,EAAE,CAAC;YAKnC,uBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAavD,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YAEvB,IAAI,CAAC,MAAM,GAAG,IAAI,UAAU,CAAW,IAAI,CAAC,kBAAkB,EAAE,WAAW,CAAC,CAAC;YAC7E,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YAGpB,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,kBAAkB,CAAC,KAAK,EAAE,CAAC;SACxD;QAMD,sBAAI,2BAAO;iBAAX,cAAwB,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE;iBAE/C,UAAY,GAAW;gBAEnB,OAAO,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EACvD;oBACI,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;iBAC1B;gBAED,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;aACvB;;;WAV8C;QA2C/C,oBAAG,GAAH,UAAI,OAAwD,EAAE,IAAa;YAGvE,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAC1B;gBACI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,EACvC;oBAGI,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAW,CAAC,CAAC;iBAClC;gBAED,OAAO,IAAI,CAAC;aACf;YAED,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,IAAI,GAAG,EAAE,CAAC;YACd,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC5B,IAAI,UAAU,GAAgB,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC;YAE1C,IAAI,OAAO,OAAO,KAAK,QAAQ,EAC/B;gBACI,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC;gBAClB,IAAI,GAAG,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC;gBACnC,OAAO,GAAG,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC;gBACrC,UAAU,GAAG,OAAO,CAAC;aACxB;iBAED;gBACI,IAAI,GAAG,OAAO,CAAC;gBAEf,IAAI,OAAO,IAAI,KAAK,QAAQ;oBACxB,GAAG,GAAG,IAAI,CAAC;;oBAEX,GAAG,GAAG,IAAI,CAAC;aAClB;YAED,IAAI,CAAC,GAAG;gBACJ,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAC;YAG5D,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,UAAU,CAAC,cAAc,EAC9C;gBACI,MAAM,IAAI,KAAK,CAAC,wDAAwD,CAAC,CAAC;aAC7E;YAGD,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EACxB;gBACI,MAAM,IAAI,KAAK,CAAC,sBAAmB,IAAI,uBAAmB,CAAC,CAAC;aAC/D;YAGD,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;YACrC,UAAU,CAAC,GAAG,GAAG,GAAG,CAAC;YAErB,IAAM,QAAQ,GAAG,IAAI,QAAQ,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;YAEhD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;YAEhC,IAAI,OAAO,UAAU,CAAC,UAAU,KAAK,UAAU,EAC/C;gBACI,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;aAC1D;YAGD,IAAI,IAAI,CAAC,OAAO,EAChB;gBACI,IAAM,QAAM,GAAG,UAAU,CAAC,cAAe,CAAC;gBAC1C,IAAM,kBAAkB,GAAe,EAAE,CAAC;gBAE1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAC/C;oBACI,IAAI,CAAC,QAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,EAClC;wBACI,kBAAkB,CAAC,IAAI,CAAC,QAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;qBAC/C;iBACJ;gBAED,IAAM,SAAS,GAAG,QAAM,CAAC,aAAa,IAAI,kBAAkB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBACzE,IAAM,SAAS,GAAG,SAAS,IAAI,kBAAkB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBAE9D,QAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC/B,QAAM,CAAC,aAAa,GAAG,SAAS,CAAC;gBAEjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,kBAAkB,CAAC,MAAM,EAAE,EAAE,CAAC,EAClD;oBACI,kBAAkB,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,SAAS,CAAC;iBACnD;gBAED,QAAQ,CAAC,aAAa,GAAG,SAAS,CAAC;aACtC;YAGD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAE3B,OAAO,IAAI,CAAC;SACf;QAWD,oBAAG,GAAH,UAAI,EAAuB,EAAE,QAAmD;YAAnD,yBAAA,EAAA,WAAmB,MAAM,CAAC,yBAAyB;YAE5E,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAE,IAAA,EAAE,QAAQ,UAAA,EAAE,CAAC,CAAC;YACxC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,GAAA,CAAC,CAAC;YACzD,OAAO,IAAI,CAAC;SACf;QAKD,sBAAK,GAAL;YAEI,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;YAClB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YAErB,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YAGpB,KAAK,IAAM,CAAC,IAAI,IAAI,CAAC,SAAS,EAC9B;gBACI,IAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAE9B,IAAI,CAAC,GAAG;oBACJ,SAAS;gBAEb,IAAI,GAAG,CAAC,kBAAkB;oBACtB,GAAG,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC;gBAEpC,IAAI,GAAG,CAAC,SAAS;oBACb,GAAG,CAAC,KAAK,EAAE,CAAC;aACnB;YAED,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YAEpB,OAAO,IAAI,CAAC;SACf;QAKD,qBAAI,GAAJ,UAAK,EAA4B;YAE7B,IAAI,OAAO,EAAE,KAAK,UAAU;gBACxB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAG7B,IAAI,IAAI,CAAC,OAAO;gBACZ,OAAO,IAAI,CAAC;YAEhB,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,EACtB;gBACI,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,IAAI,CAAC,WAAW,EAAE,CAAC;aACtB;iBAED;gBAEI,IAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;gBACtC,IAAM,KAAK,GAAG,YAAY,GAAG,QAAQ,CAAC;gBAEtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,EAAE,CAAC,EAC7C;oBACI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;iBACrD;gBAGD,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAGhB,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;aACxB;YAED,OAAO,IAAI,CAAC;SACf;QAKD,sBAAI,+BAAW;iBAAf;gBAEI,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;aAClC;iBAED,UAAgB,WAAW;gBAEvB,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC;aACzC;;;WALA;QAWD,+BAAc,GAAd,UAAe,IAA0B;YAErC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC9B,OAAO,IAAI,CAAC;SACf;QAKO,4BAAW,GAAnB,UAAoB,GAAW,EAAE,OAAe;YAE5C,IAAI,MAAM,GAAGA,wDAAQ,CAAC,GAAG,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;YAEjD,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,UAAA,QAAQ;gBAC/B,GAAG,GAAG,QAAQ,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;gBAC5B,MAAM,GAAGA,wDAAQ,CAAC,GAAG,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;aAChD,CAAC,CAAC;YAGH,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAC/C;gBAEI,IAAI,OAAO,CAAC,MAAM,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG;oBACvC,GAAG,GAAM,OAAO,SAAI,GAAK,CAAC;;oBAE1B,GAAG,GAAG,OAAO,GAAG,GAAG,CAAC;aAC3B;YAGD,IAAI,IAAI,CAAC,kBAAkB,EAC3B;gBACI,IAAM,KAAK,GAAG,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAE1C,IAAI,KAAK,EACT;oBACI,IAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;oBAEtB,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;oBAE9C,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;wBACvB,GAAG,IAAI,MAAI,IAAI,CAAC,kBAAoB,CAAC;;wBAErC,GAAG,IAAI,MAAI,IAAI,CAAC,kBAAoB,CAAC;oBAEzC,GAAG,IAAI,IAAI,CAAC;iBACf;aACJ;YAED,OAAO,GAAG,CAAC;SACd;QAKO,8BAAa,GAArB,UAAsB,QAAkB,EAAE,OAAiB;YAEvD,QAAQ,CAAC,QAAQ,GAAG,OAAO,CAAC;YAC5B,QAAQ,CAAC,kBAAkB,GAAG,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YAC3E,QAAQ,CAAC,IAAI,EAAE,CAAC;SACnB;QAKO,yBAAQ,GAAhB;YAEI,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;YAClB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SAC/B;QAKO,4BAAW,GAAnB;YAEI,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC;YAC7B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;SAClD;QAKO,wBAAO,GAAf,UAAgB,QAAkB;YAAlC,iBAmCC;YAjCG,QAAQ,CAAC,kBAAkB,GAAG,IAAI,CAAC;YAInC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACtC,QAAQ,CAAC,QAAQ,EAAE,CAAC;YAGpB,UAAU,CACN,IAAI,CAAC,WAAW,EAChB,UAAC,UAAU,EAAE,IAAI;gBAEb,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,KAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;aAC5C,EACD;gBAEI,QAAQ,CAAC,iBAAiB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBAE9C,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC;gBAC/E,KAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAI,EAAE,QAAQ,CAAC,CAAC;gBAEzC,IAAI,QAAQ,CAAC,KAAK;oBACd,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAI,EAAE,QAAQ,CAAC,CAAC;;oBAEtD,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAI,EAAE,QAAQ,CAAC,CAAC;gBAEzC,KAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,KAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;gBAG3E,IAAI,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,KAAI,CAAC,iBAAiB,CAAC,MAAM,KAAK,CAAC;oBACzD,KAAI,CAAC,WAAW,EAAE,CAAC;aAC1B,EACD,IAAI,CAAC,CAAC;SACb;QAiBM,UAAG,GAAV,UAAW,EAAuB,EAAE,QAA2C;YAA3C,yBAAA,EAAA,WAAW,MAAM,CAAC,yBAAyB;YAE3E,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,EAAE,IAAA,EAAE,QAAQ,UAAA,EAAE,CAAC,CAAC;YACjD,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,GAAA,CAAC,CAAC;YAClE,OAAO,MAAM,CAAC;SACjB;QAlfe,gCAAyB,GAAG,EAAE,CAAC;QAkehC,yBAAkB,GAAiB,EAAE,CAAC;QAiBzD,aAAC;KAxfD,IAwfC;;ICriBD,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE;QAC5B,oBAAoB,EAAE,EAAE,GAAG,gBAAK,OAAO,oBAAoB,CAAC,EAAE,EAAE;QAChE,iBAAiB,EAAE,EAAE,GAAG,gBAAK,OAAO,iBAAiB,CAAC,EAAE,EAAE;QAC1D,iBAAiB,EAAE,EAAE,GAAG,gBAAK,OAAO,iBAAiB,CAAC,EAAE,EAAE;QAC1D,wBAAwB,EAAE,EAAE,GAAG,gBAAK,OAAO,wBAAwB,CAAC,EAAE,EAAE;QACxE,iBAAiB,EAAE,EAAE,GAAG,gBAAK,OAAO,iBAAiB,CAAC,EAAE,EAAE;QAC1D,eAAe,EAAE,EAAE,GAAG,gBAAK,OAAO,eAAe,CAAC,EAAE,EAAE;QAEtD,QAAQ,EAAE,EAAE,GAAG,gBAAK,OAAO,QAAQ,CAAC,EAAE,EAAE;QACxC,YAAY,EAAE,EAAE,GAAG,gBAAK,OAAO,YAAY,CAAC,EAAE,EAAE;QAChD,aAAa,EAAE,EAAE,GAAG,gBAAK,OAAO,aAAa,CAAC,EAAE,EAAE;QAGlD,KAAK,EAAE,EAAE,GAAG,gBAAK,OAAO,EAAE,UAAU,YAAA,EAAE,UAAU,YAAA,EAAE,CAAC,EAAE,EAAE;QACvD,YAAY,EAAE,EAAE,GAAG,gBAAK,OAAO,YAAY,CAAC,EAAE,EAAE;KACnD,CAAC,CAAC;;;;;;;;"}